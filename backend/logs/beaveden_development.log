2024-12-25 23:51:54.630 [INFO] __main__ - Logger initialized in development mode
2024-12-25 23:51:54.630 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-25 23:51:54.630 [INFO] __main__ - 信号处理器已设置
2024-12-25 23:51:54.630 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-25 23:51:54.634 [INFO] __main__ - 正在启动后端服务器，监听端口 8486...
2024-12-25 23:51:54.635 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-25 23:51:54.644 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-25 23:51:54.644 [INFO] app.db.migrations - start checking database update...
2024-12-25 23:58:45.122 [INFO] __main__ - Logger initialized in development mode
2024-12-25 23:58:45.122 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-25 23:58:45.122 [INFO] __main__ - Starting application initialization...
2024-12-25 23:58:45.122 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-25 23:58:45.122 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-25 23:58:45.122 [INFO] __main__ - Logger initialized in development mode
2024-12-25 23:58:45.122 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-25 23:58:45.126 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-25 23:58:45.127 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-25 23:58:45.134 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-25 23:58:45.135 [INFO] app.db.migrations - start checking database update...
2024-12-26 00:03:53.912 [INFO] __main__ - Logger initialized in development mode
2024-12-26 00:03:53.912 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 00:03:53.912 [INFO] __main__ - Starting application initialization...
2024-12-26 00:03:53.912 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 00:03:53.912 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 00:03:53.913 [INFO] __main__ - Logger initialized in development mode
2024-12-26 00:03:53.913 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 00:03:53.916 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 00:03:53.917 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 00:03:53.925 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 00:03:53.925 [INFO] app.db.migrations - start checking database update...
2024-12-26 00:03:53.925 [INFO] app.db.migrations - database update completed
2024-12-26 00:03:53.969 [INFO] app.db.session - ==========session: <sqlalchemy.orm.session.Session object at 0x104cf9d80>
2024-12-26 00:03:53.969 [DEBUG] app.db.session - ==========session: <sqlalchemy.orm.session.Session object at 0x104cf9d80>
2024-12-26 00:03:53.969 [INFO] app.db.session - ==========session: <sqlalchemy.orm.session.Session object at 0x104cf9d80>
2024-12-26 00:03:53.970 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 00:03:53.970 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 00:03:53.970 [INFO] sqlalchemy.engine.Engine - [generated in 0.00011s] ()
2024-12-26 00:03:53.971 [INFO] app.db.session - db_connected: True
2024-12-26 00:03:53.971 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 00:03:53.971 [INFO] sqlalchemy.engine.Engine - [generated in 0.00006s] ()
2024-12-26 00:03:53.971 [INFO] app.db.session - db_initialized: True
2024-12-26 00:03:53.971 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 00:03:53.972 [INFO] sqlalchemy.engine.Engine - [generated in 0.00014s] ()
2024-12-26 00:03:53.972 [INFO] app.db.session - Database version: 68664dd8a6ab
2024-12-26 00:03:53.972 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 00:04:59.072 [INFO] __main__ - 接收到终止信号，正在清理资源...
2024-12-26 00:04:59.073 [ERROR] __main__ - 关闭数据库连接时发生错误: 'State' object has no attribute 'engine'
2024-12-26 00:05:01.602 [INFO] __main__ - Logger initialized in development mode
2024-12-26 00:05:01.602 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 00:05:01.602 [INFO] __main__ - Starting application initialization...
2024-12-26 00:05:01.602 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 00:05:01.602 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 00:05:01.602 [INFO] __main__ - Logger initialized in development mode
2024-12-26 00:05:01.602 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 00:05:01.606 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 00:05:01.607 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 00:05:01.615 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 00:05:01.615 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 00:05:01.615 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 00:05:01.615 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 00:05:01.616 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 00:05:01.616 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 00:05:01.616 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 00:05:01.617 [INFO] sqlalchemy.engine.Engine - [generated in 0.00008s] ()
2024-12-26 00:05:01.617 [INFO] app.db.migrations - Current database version: 68664dd8a6ab
2024-12-26 00:05:01.617 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 00:05:01.617 [INFO] app.db.migrations - Executing database migration...
2024-12-26 00:06:24.733 [INFO] __main__ - Logger initialized in development mode
2024-12-26 00:06:24.733 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 00:06:24.733 [INFO] __main__ - Starting application initialization...
2024-12-26 00:06:24.733 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 00:06:24.733 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 00:06:24.733 [INFO] __main__ - Logger initialized in development mode
2024-12-26 00:06:24.733 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 00:06:24.737 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 00:06:24.738 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 00:06:24.746 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 00:06:24.746 [INFO] app.db.migrations - start checking database update...
2024-12-26 00:07:12.676 [INFO] __main__ - Logger initialized in development mode
2024-12-26 00:07:12.676 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 00:07:12.676 [INFO] __main__ - Starting application initialization...
2024-12-26 00:07:12.677 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 00:07:12.677 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 00:07:12.677 [INFO] __main__ - Logger initialized in development mode
2024-12-26 00:07:12.677 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 00:07:12.680 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 00:07:12.682 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 00:07:12.689 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 00:08:05.988 [INFO] __main__ - Logger initialized in development mode
2024-12-26 00:08:05.988 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 00:08:05.988 [INFO] __main__ - Starting application initialization...
2024-12-26 00:08:05.988 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 00:08:05.988 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 00:08:05.989 [INFO] __main__ - Logger initialized in development mode
2024-12-26 00:08:05.989 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 00:08:05.992 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 00:08:05.993 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 00:08:06.001 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 00:08:06.001 [INFO] app.db.migrations - start checking database update...
2024-12-26 00:08:06.001 [ERROR] app.db.migrations - database migration failed: 'Config' object has no attribute 'to_dict'
2024-12-26 00:08:34.459 [INFO] __main__ - Logger initialized in development mode
2024-12-26 00:08:34.459 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 00:08:34.459 [INFO] __main__ - Starting application initialization...
2024-12-26 00:08:34.459 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 00:08:34.459 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 00:08:34.459 [INFO] __main__ - Logger initialized in development mode
2024-12-26 00:08:34.459 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 00:08:34.463 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 00:08:34.464 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 00:08:34.469 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 00:08:34.470 [INFO] app.db.migrations - start checking database update...
2024-12-26 00:08:34.470 [INFO] app.db.migrations - <alembic.config.Config object at 0x1119f8850>
2024-12-26 00:15:19.723 [INFO] __main__ - Logger initialized in development mode
2024-12-26 00:15:19.724 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 00:15:19.724 [INFO] __main__ - Starting application initialization...
2024-12-26 00:15:19.724 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 00:15:19.724 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 00:15:19.724 [INFO] __main__ - Logger initialized in development mode
2024-12-26 00:15:19.724 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 00:15:19.727 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 00:15:19.729 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 00:15:19.736 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 00:15:19.736 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 00:15:19.736 [ERROR] app.db.migrations - database migration failed: 'str' object has no attribute 'exists'
2024-12-26 00:16:20.087 [INFO] __main__ - Logger initialized in development mode
2024-12-26 00:16:20.088 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 00:16:20.088 [INFO] __main__ - Starting application initialization...
2024-12-26 00:16:20.088 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 00:16:20.088 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 00:16:20.088 [INFO] __main__ - Logger initialized in development mode
2024-12-26 00:16:20.088 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 00:16:20.091 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 00:16:20.092 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 00:16:20.098 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 00:16:20.098 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 00:16:20.099 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 00:16:20.099 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 00:16:20.099 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 00:16:20.099 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 00:16:20.099 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 00:16:20.100 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 00:16:20.100 [INFO] sqlalchemy.engine.Engine - [generated in 0.00010s] ()
2024-12-26 00:16:20.100 [INFO] app.db.migrations - Current database revision: 68664dd8a6ab
2024-12-26 00:16:20.100 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 00:16:20.101 [INFO] app.db.migrations - start checking database update...
2024-12-26 00:22:57.540 [INFO] __main__ - Logger initialized in development mode
2024-12-26 00:22:57.541 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 00:22:57.541 [INFO] __main__ - Starting application initialization...
2024-12-26 00:22:57.541 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 00:22:57.541 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 00:22:57.541 [INFO] __main__ - Logger initialized in development mode
2024-12-26 00:22:57.541 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 00:22:57.544 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 00:22:57.546 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 00:22:57.553 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 00:22:57.554 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 00:22:57.554 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 00:22:57.557 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 00:22:57.557 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 00:22:57.557 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 00:22:57.557 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 00:22:57.557 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 00:22:57.559 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 00:22:57.559 [INFO] sqlalchemy.engine.Engine - [generated in 0.00010s] ()
2024-12-26 00:22:57.559 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 00:22:57.559 [INFO] app.db.migrations - Current database revision: 68664dd8a6ab
2024-12-26 00:22:57.559 [INFO] app.db.migrations - Target head revision: 68664dd8a6ab
2024-12-26 00:22:57.559 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-26 00:22:57.559 [INFO] app.db.migrations - Database check completed successfully
2024-12-26 00:22:57.647 [INFO] app.db.session - ==========session: <sqlalchemy.orm.session.Session object at 0x1069fb070>
2024-12-26 00:22:57.647 [DEBUG] app.db.session - ==========session: <sqlalchemy.orm.session.Session object at 0x1069fb070>
2024-12-26 00:22:57.647 [INFO] app.db.session - ==========session: <sqlalchemy.orm.session.Session object at 0x1069fb070>
2024-12-26 00:22:57.648 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 00:22:57.648 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 00:22:57.648 [INFO] sqlalchemy.engine.Engine - [generated in 0.00010s] ()
2024-12-26 00:22:57.648 [INFO] app.db.session - db_connected: True
2024-12-26 00:22:57.648 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 00:22:57.648 [INFO] sqlalchemy.engine.Engine - [generated in 0.00006s] ()
2024-12-26 00:22:57.649 [INFO] app.db.session - db_initialized: True
2024-12-26 00:22:57.649 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 00:22:57.649 [INFO] sqlalchemy.engine.Engine - [generated in 0.00006s] ()
2024-12-26 00:22:57.649 [INFO] app.db.session - Database version: 68664dd8a6ab
2024-12-26 00:22:57.649 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 00:29:48.799 [ERROR] app.services.auth_service - User registration failed: 'RegisterRequest' object has no attribute 'device_info'
2024-12-26 00:33:19.320 [INFO] __main__ - 接收到终止信号，正在清理资源...
2024-12-26 00:33:19.320 [ERROR] __main__ - 关闭数据库连接时发生错误: 'State' object has no attribute 'engine'
2024-12-26 00:33:21.917 [INFO] __main__ - Logger initialized in development mode
2024-12-26 00:33:21.917 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 00:33:21.917 [INFO] __main__ - Starting application initialization...
2024-12-26 00:33:21.917 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 00:33:21.917 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 00:33:21.917 [INFO] __main__ - Logger initialized in development mode
2024-12-26 00:33:21.917 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 00:33:21.921 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 00:33:21.922 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 00:33:21.930 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 00:33:21.931 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 00:33:21.931 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 00:33:21.932 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 00:33:21.932 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 00:33:21.932 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 00:33:21.932 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 00:33:21.932 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 00:33:21.933 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 00:33:21.933 [INFO] sqlalchemy.engine.Engine - [generated in 0.00009s] ()
2024-12-26 00:33:21.934 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 00:33:21.934 [INFO] app.db.migrations - Current database revision: 68664dd8a6ab
2024-12-26 00:33:21.934 [INFO] app.db.migrations - Target head revision: 68664dd8a6ab
2024-12-26 00:33:21.934 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-26 00:33:21.934 [INFO] app.db.migrations - Database check completed successfully
2024-12-26 00:33:22.005 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 00:33:22.006 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 00:33:22.006 [INFO] sqlalchemy.engine.Engine - [generated in 0.00011s] ()
2024-12-26 00:33:22.006 [INFO] app.db.session - db_connected: True
2024-12-26 00:33:22.006 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 00:33:22.006 [INFO] sqlalchemy.engine.Engine - [generated in 0.00010s] ()
2024-12-26 00:33:22.007 [INFO] app.db.session - db_initialized: True
2024-12-26 00:33:22.007 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 00:33:22.007 [INFO] sqlalchemy.engine.Engine - [generated in 0.00007s] ()
2024-12-26 00:33:22.007 [INFO] app.db.session - Database version: 68664dd8a6ab
2024-12-26 00:33:22.007 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 00:33:56.623 [ERROR] app.services.auth_service - User registration failed: too many values to unpack (expected 2)
2024-12-26 00:51:06.372 [INFO] __main__ - 接收到终止信号，正在清理资源...
2024-12-26 00:51:06.372 [ERROR] __main__ - 关闭数据库连接时发生错误: 'State' object has no attribute 'engine'
2024-12-26 00:51:09.007 [INFO] __main__ - Logger initialized in development mode
2024-12-26 00:51:09.007 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 00:51:09.007 [INFO] __main__ - Starting application initialization...
2024-12-26 00:51:09.007 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 00:51:09.007 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 00:51:09.008 [INFO] __main__ - Logger initialized in development mode
2024-12-26 00:51:09.008 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 00:51:09.011 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 00:51:09.012 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 00:51:09.021 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 00:51:09.021 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 00:51:09.021 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 00:51:09.022 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 00:51:09.022 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 00:51:09.022 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 00:51:09.023 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 00:51:09.023 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 00:51:09.024 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 00:51:09.024 [INFO] sqlalchemy.engine.Engine - [generated in 0.00008s] ()
2024-12-26 00:51:09.024 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 00:51:09.024 [INFO] app.db.migrations - Current database revision: 68664dd8a6ab
2024-12-26 00:51:09.024 [INFO] app.db.migrations - Target head revision: 68664dd8a6ab
2024-12-26 00:51:09.024 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-26 00:51:09.024 [INFO] app.db.migrations - Database check completed successfully
2024-12-26 00:51:09.131 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 00:51:09.132 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 00:51:09.132 [INFO] sqlalchemy.engine.Engine - [generated in 0.00012s] ()
2024-12-26 00:51:09.132 [INFO] app.db.session - db_connected: True
2024-12-26 00:51:09.132 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 00:51:09.132 [INFO] sqlalchemy.engine.Engine - [generated in 0.00007s] ()
2024-12-26 00:51:09.132 [INFO] app.db.session - db_initialized: True
2024-12-26 00:51:09.132 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 00:51:09.132 [INFO] sqlalchemy.engine.Engine - [generated in 0.00008s] ()
2024-12-26 00:51:09.132 [INFO] app.db.session - Database version: 68664dd8a6ab
2024-12-26 00:51:09.133 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 00:51:26.124 [ERROR] app.services.auth_service - User registration failed: too many values to unpack (expected 2)
2024-12-26 00:53:49.189 [INFO] __main__ - 接收到终止信号，正在清理资源...
2024-12-26 00:53:49.189 [ERROR] __main__ - 关闭数据库连接时发生错误: 'State' object has no attribute 'engine'
2024-12-26 00:53:51.432 [INFO] __main__ - Logger initialized in development mode
2024-12-26 00:53:51.432 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 00:53:51.432 [INFO] __main__ - Starting application initialization...
2024-12-26 00:53:51.432 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 00:53:51.432 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 00:53:51.433 [INFO] __main__ - Logger initialized in development mode
2024-12-26 00:53:51.433 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 00:53:51.436 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 00:53:51.438 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 00:53:51.445 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 00:53:51.445 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 00:53:51.446 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 00:53:51.447 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 00:53:51.447 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 00:53:51.447 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 00:53:51.447 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 00:53:51.447 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 00:53:51.448 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 00:53:51.448 [INFO] sqlalchemy.engine.Engine - [generated in 0.00011s] ()
2024-12-26 00:53:51.448 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 00:53:51.449 [INFO] app.db.migrations - Current database revision: 68664dd8a6ab
2024-12-26 00:53:51.449 [INFO] app.db.migrations - Target head revision: 68664dd8a6ab
2024-12-26 00:53:51.449 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-26 00:53:51.449 [INFO] app.db.migrations - Database check completed successfully
2024-12-26 00:53:51.471 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 00:53:51.471 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 00:53:51.471 [INFO] sqlalchemy.engine.Engine - [generated in 0.00009s] ()
2024-12-26 00:53:51.471 [INFO] app.db.session - db_connected: True
2024-12-26 00:53:51.471 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 00:53:51.471 [INFO] sqlalchemy.engine.Engine - [generated in 0.00006s] ()
2024-12-26 00:53:51.472 [INFO] app.db.session - db_initialized: True
2024-12-26 00:53:51.472 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 00:53:51.472 [INFO] sqlalchemy.engine.Engine - [generated in 0.00006s] ()
2024-12-26 00:53:51.472 [INFO] app.db.session - Database version: 68664dd8a6ab
2024-12-26 00:53:51.472 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 00:53:55.707 [INFO] app.services.auth_service - register user
2024-12-26 00:53:55.719 [ERROR] app.services.auth_service - User registration failed: too many values to unpack (expected 2)
2024-12-26 01:00:16.964 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 01:00:16.964 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 01:00:16.964 [INFO] sqlalchemy.engine.Engine - [cached since 385.5s ago] ()
2024-12-26 01:00:16.964 [INFO] app.db.session - db_connected: True
2024-12-26 01:00:16.964 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 01:00:16.964 [INFO] sqlalchemy.engine.Engine - [cached since 385.5s ago] ()
2024-12-26 01:00:16.964 [INFO] app.db.session - db_initialized: True
2024-12-26 01:00:16.964 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 01:00:16.965 [INFO] sqlalchemy.engine.Engine - [cached since 385.5s ago] ()
2024-12-26 01:00:16.965 [INFO] app.db.session - Database version: 68664dd8a6ab
2024-12-26 01:00:16.965 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 01:00:17.708 [INFO] __main__ - Logger initialized in development mode
2024-12-26 01:00:17.708 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 01:00:17.708 [INFO] __main__ - Starting application initialization...
2024-12-26 01:00:17.709 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 01:00:17.709 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 01:00:17.709 [INFO] __main__ - Logger initialized in development mode
2024-12-26 01:00:17.709 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 01:00:17.713 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 01:00:17.714 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 01:00:17.723 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 01:00:17.723 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 01:00:17.723 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 01:00:17.724 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 01:00:17.724 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 01:00:17.724 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 01:00:17.725 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 01:00:17.725 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 01:00:17.726 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 01:00:17.726 [INFO] sqlalchemy.engine.Engine - [generated in 0.00010s] ()
2024-12-26 01:00:17.726 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 01:00:17.726 [INFO] app.db.migrations - Current database revision: 68664dd8a6ab
2024-12-26 01:00:17.726 [INFO] app.db.migrations - Target head revision: 68664dd8a6ab
2024-12-26 01:00:17.726 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-26 01:00:17.727 [INFO] app.db.migrations - Database check completed successfully
2024-12-26 01:00:20.903 [INFO] app.services.auth_service - register user
2024-12-26 01:00:20.903 [ERROR] app.services.auth_service - User registration failed: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[MenuConfig(menu_configs)]'. Original exception was: too many values to unpack (expected 2)
2024-12-26 01:00:40.801 [INFO] __main__ - 接收到终止信号，正在清理资源...
2024-12-26 01:00:40.801 [ERROR] __main__ - 关闭数据库连接时发生错误: 'State' object has no attribute 'engine'
2024-12-26 01:00:52.296 [INFO] __main__ - Logger initialized in development mode
2024-12-26 01:00:52.296 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 01:00:52.296 [INFO] __main__ - Starting application initialization...
2024-12-26 01:00:52.296 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 01:00:52.296 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 01:00:52.296 [INFO] __main__ - Logger initialized in development mode
2024-12-26 01:00:52.297 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 01:00:52.300 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 01:00:52.301 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 01:00:52.306 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 01:00:52.306 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 01:00:52.307 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 01:00:52.308 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 01:00:52.308 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 01:00:52.308 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 01:00:52.308 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 01:00:52.308 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 01:00:52.309 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 01:00:52.309 [INFO] sqlalchemy.engine.Engine - [generated in 0.00010s] ()
2024-12-26 01:00:52.309 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 01:00:52.309 [INFO] app.db.migrations - Current database revision: 68664dd8a6ab
2024-12-26 01:00:52.309 [INFO] app.db.migrations - Target head revision: 68664dd8a6ab
2024-12-26 01:00:52.309 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-26 01:00:52.309 [INFO] app.db.migrations - Database check completed successfully
2024-12-26 01:00:52.356 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 01:00:52.357 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 01:00:52.357 [INFO] sqlalchemy.engine.Engine - [generated in 0.00011s] ()
2024-12-26 01:00:52.357 [INFO] app.db.session - db_connected: True
2024-12-26 01:00:52.357 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 01:00:52.357 [INFO] sqlalchemy.engine.Engine - [generated in 0.00006s] ()
2024-12-26 01:00:52.357 [INFO] app.db.session - db_initialized: True
2024-12-26 01:00:52.357 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 01:00:52.357 [INFO] sqlalchemy.engine.Engine - [generated in 0.00006s] ()
2024-12-26 01:00:52.357 [INFO] app.db.session - Database version: 68664dd8a6ab
2024-12-26 01:00:52.357 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 01:00:57.211 [INFO] app.services.auth_service - register user
2024-12-26 01:00:57.221 [ERROR] app.services.auth_service - User registration failed: too many values to unpack (expected 2)
2024-12-26 01:05:31.432 [INFO] __main__ - 接收到终止信号，正在清理资源...
2024-12-26 01:05:31.432 [ERROR] __main__ - 关闭数据库连接时发生错误: 'State' object has no attribute 'engine'
2024-12-26 01:13:45.562 [INFO] __main__ - Logger initialized in development mode
2024-12-26 01:13:45.562 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 01:13:45.562 [INFO] __main__ - Starting application initialization...
2024-12-26 01:13:45.562 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 01:13:45.562 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 01:13:45.562 [INFO] __main__ - Logger initialized in development mode
2024-12-26 01:13:45.562 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 01:13:45.566 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 01:13:45.567 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 01:13:45.575 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 01:13:45.575 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 01:13:45.576 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 01:13:45.577 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 01:13:45.577 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 01:13:45.577 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 01:13:45.577 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 01:13:45.577 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 01:13:45.578 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 01:13:45.578 [INFO] sqlalchemy.engine.Engine - [generated in 0.00017s] ()
2024-12-26 01:13:45.578 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 01:13:45.578 [INFO] app.db.migrations - Current database revision: 68664dd8a6ab
2024-12-26 01:13:45.578 [INFO] app.db.migrations - Target head revision: 68664dd8a6ab
2024-12-26 01:13:45.578 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-26 01:13:45.578 [INFO] app.db.migrations - Database check completed successfully
2024-12-26 01:13:45.593 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 01:13:45.593 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 01:13:45.593 [INFO] sqlalchemy.engine.Engine - [generated in 0.00009s] ()
2024-12-26 01:13:45.593 [INFO] app.db.session - db_connected: True
2024-12-26 01:13:45.593 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 01:13:45.593 [INFO] sqlalchemy.engine.Engine - [generated in 0.00006s] ()
2024-12-26 01:13:45.594 [INFO] app.db.session - db_initialized: True
2024-12-26 01:13:45.594 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 01:13:45.594 [INFO] sqlalchemy.engine.Engine - [generated in 0.00013s] ()
2024-12-26 01:13:45.594 [INFO] app.db.session - Database version: 68664dd8a6ab
2024-12-26 01:13:45.594 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 01:13:51.610 [INFO] app.services.auth_service - register user
2024-12-26 01:13:51.618 [ERROR] app.services.auth_service - User registration failed: too many values to unpack (expected 2)
2024-12-26 01:14:37.657 [INFO] __main__ - 接收到终止信号，正在清理资源...
2024-12-26 01:14:37.657 [ERROR] __main__ - 关闭数据库连接时发生错误: 'State' object has no attribute 'engine'
2024-12-26 01:14:42.107 [INFO] __main__ - Logger initialized in development mode
2024-12-26 01:14:42.107 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 01:14:42.107 [INFO] __main__ - Starting application initialization...
2024-12-26 01:14:42.107 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 01:14:42.107 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 01:14:42.107 [INFO] __main__ - Logger initialized in development mode
2024-12-26 01:14:42.107 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 01:14:42.111 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 01:14:42.112 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 01:14:42.120 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 01:14:42.120 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 01:14:42.120 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 01:14:42.121 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 01:14:42.121 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 01:14:42.121 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 01:14:42.122 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 01:14:42.122 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 01:14:42.123 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 01:14:42.123 [INFO] sqlalchemy.engine.Engine - [generated in 0.00012s] ()
2024-12-26 01:14:42.123 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 01:14:42.123 [INFO] app.db.migrations - Current database revision: 68664dd8a6ab
2024-12-26 01:14:42.123 [INFO] app.db.migrations - Target head revision: 68664dd8a6ab
2024-12-26 01:14:42.123 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-26 01:14:42.123 [INFO] app.db.migrations - Database check completed successfully
2024-12-26 01:14:42.163 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 01:14:42.164 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 01:14:42.164 [INFO] sqlalchemy.engine.Engine - [generated in 0.00014s] ()
2024-12-26 01:14:42.164 [INFO] app.db.session - db_connected: True
2024-12-26 01:14:42.164 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 01:14:42.164 [INFO] sqlalchemy.engine.Engine - [generated in 0.00007s] ()
2024-12-26 01:14:42.164 [INFO] app.db.session - db_initialized: True
2024-12-26 01:14:42.164 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 01:14:42.164 [INFO] sqlalchemy.engine.Engine - [generated in 0.00006s] ()
2024-12-26 01:14:42.164 [INFO] app.db.session - Database version: 68664dd8a6ab
2024-12-26 01:14:42.165 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 01:14:55.822 [INFO] app.services.auth_service - username='test' password='royzhu1225' email='roy@t.tcom' preferences=UserPreferences(language=<Language.EN: 'en'>, currency=<Currency.CAD: 'CAD'>, theme=<Theme.SUNSET: 'sunset'>) deviceInfo=DeviceInfo(deviceId='dev-device', deviceName='Development Machine', os='Development OS', model='2024 Model', deviceType='Desktop', manufacturer='Apple', ip='127.0.0.1')
2024-12-26 01:14:55.822 [INFO] app.services.auth_service - register user
2024-12-26 01:14:55.834 [ERROR] app.services.auth_service - User registration failed: too many values to unpack (expected 2)
2024-12-26 01:28:29.891 [INFO] __main__ - 接收到终止信号，正在清理资源...
2024-12-26 01:28:29.891 [ERROR] __main__ - 关闭数据库连接时发生错误: 'State' object has no attribute 'engine'
2024-12-26 01:28:35.743 [INFO] __main__ - Logger initialized in development mode
2024-12-26 01:28:35.743 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 01:28:35.743 [INFO] __main__ - Starting application initialization...
2024-12-26 01:28:35.743 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 01:28:35.743 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 01:28:35.744 [INFO] __main__ - Logger initialized in development mode
2024-12-26 01:28:35.744 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 01:28:35.748 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 01:28:35.749 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 01:28:35.758 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 01:28:35.758 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 01:28:35.759 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 01:28:35.760 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 01:28:35.760 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 01:28:35.760 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 01:28:35.760 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 01:28:35.760 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 01:28:35.761 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 01:28:35.761 [INFO] sqlalchemy.engine.Engine - [generated in 0.00009s] ()
2024-12-26 01:28:35.762 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 01:28:35.762 [INFO] app.db.migrations - Current database revision: 68664dd8a6ab
2024-12-26 01:28:35.762 [INFO] app.db.migrations - Target head revision: 68664dd8a6ab
2024-12-26 01:28:35.762 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-26 01:28:35.762 [INFO] app.db.migrations - Database check completed successfully
2024-12-26 01:28:35.861 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 01:28:35.861 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 01:28:35.861 [INFO] sqlalchemy.engine.Engine - [generated in 0.00015s] ()
2024-12-26 01:28:35.861 [INFO] app.db.session - db_connected: True
2024-12-26 01:28:35.862 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 01:28:35.862 [INFO] sqlalchemy.engine.Engine - [generated in 0.00007s] ()
2024-12-26 01:28:35.862 [INFO] app.db.session - db_initialized: True
2024-12-26 01:28:35.862 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 01:28:35.862 [INFO] sqlalchemy.engine.Engine - [generated in 0.00007s] ()
2024-12-26 01:28:35.862 [INFO] app.db.session - Database version: 68664dd8a6ab
2024-12-26 01:28:35.862 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 01:28:49.863 [INFO] app.services.auth_service - username='test' password='royzhu1225' email='roy@t.tcom' preferences=UserPreferences(language=<Language.EN: 'en'>, currency=<Currency.CAD: 'CAD'>, theme=<Theme.SUNSET: 'sunset'>) deviceInfo=DeviceInfo(deviceId='dev-device', deviceName='Development Machine', os='Development OS', model='2024 Model', deviceType='Desktop', manufacturer='Apple', ip='127.0.0.1')
2024-12-26 01:28:49.864 [INFO] app.services.auth_service - register user
2024-12-26 01:28:49.879 [ERROR] app.services.auth_service - User registration failed: too many values to unpack (expected 2)
2024-12-26 01:34:59.783 [INFO] __main__ - 接收到终止信号，正在清理资源...
2024-12-26 01:34:59.784 [ERROR] __main__ - 关闭数据库连接时发生错误: 'State' object has no attribute 'engine'
2024-12-26 01:35:03.115 [INFO] __main__ - Logger initialized in development mode
2024-12-26 01:35:03.115 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 01:35:03.115 [INFO] __main__ - Starting application initialization...
2024-12-26 01:35:03.115 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 01:35:03.116 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 01:35:03.116 [INFO] __main__ - Logger initialized in development mode
2024-12-26 01:35:03.116 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 01:35:03.119 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 01:35:03.121 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 01:35:03.129 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 01:35:03.130 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 01:35:03.130 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 01:35:03.131 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 01:35:03.131 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 01:35:03.131 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 01:35:03.131 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 01:35:03.132 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 01:35:03.132 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 01:35:03.132 [INFO] sqlalchemy.engine.Engine - [generated in 0.00009s] ()
2024-12-26 01:35:03.133 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 01:35:03.133 [INFO] app.db.migrations - Current database revision: 68664dd8a6ab
2024-12-26 01:35:03.133 [INFO] app.db.migrations - Target head revision: 68664dd8a6ab
2024-12-26 01:35:03.133 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-26 01:35:03.133 [INFO] app.db.migrations - Database check completed successfully
2024-12-26 01:35:03.176 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 01:35:03.176 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 01:35:03.176 [INFO] sqlalchemy.engine.Engine - [generated in 0.00013s] ()
2024-12-26 01:35:03.177 [INFO] app.db.session - db_connected: True
2024-12-26 01:35:03.177 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 01:35:03.177 [INFO] sqlalchemy.engine.Engine - [generated in 0.00007s] ()
2024-12-26 01:35:03.177 [INFO] app.db.session - db_initialized: True
2024-12-26 01:35:03.177 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 01:35:03.177 [INFO] sqlalchemy.engine.Engine - [generated in 0.00007s] ()
2024-12-26 01:35:03.177 [INFO] app.db.session - Database version: 68664dd8a6ab
2024-12-26 01:35:03.177 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 01:35:07.437 [INFO] app.services.auth_service - username='test' password='royzhu1225' email='roy@t.tcom' preferences=UserPreferences(language=<Language.EN: 'en'>, currency=<Currency.CAD: 'CAD'>, theme=<Theme.SUNSET: 'sunset'>) deviceInfo=DeviceInfo(deviceId='dev-device', deviceName='Development Machine', os='Development OS', model='2024 Model', deviceType='Desktop', manufacturer='Apple', ip='127.0.0.1')
2024-12-26 01:35:07.438 [INFO] app.services.auth_service - register user
2024-12-26 01:35:07.441 [ERROR] app.services.auth_service - User registration failed: Mapper 'Mapper[User(user)]' has no property 'sessions'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.
2024-12-26 01:43:23.435 [INFO] __main__ - 接收到终止信号，正在清理资源...
2024-12-26 01:43:23.435 [ERROR] __main__ - 关闭数据库连接时发生错误: 'State' object has no attribute 'engine'
2024-12-26 01:43:26.938 [INFO] __main__ - Logger initialized in development mode
2024-12-26 01:43:26.938 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 01:43:26.939 [INFO] __main__ - Starting application initialization...
2024-12-26 01:43:26.939 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 01:43:26.939 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 01:43:26.939 [INFO] __main__ - Logger initialized in development mode
2024-12-26 01:43:26.939 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 01:43:26.943 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 01:43:26.944 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 01:43:26.952 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 01:43:26.952 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 01:43:26.952 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 01:43:26.953 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 01:43:26.953 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 01:43:26.953 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 01:43:26.953 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 01:43:26.953 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 01:43:26.955 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 01:43:26.955 [INFO] sqlalchemy.engine.Engine - [generated in 0.00014s] ()
2024-12-26 01:43:26.955 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 01:43:26.955 [INFO] app.db.migrations - Current database revision: 68664dd8a6ab
2024-12-26 01:43:26.955 [INFO] app.db.migrations - Target head revision: 68664dd8a6ab
2024-12-26 01:43:26.955 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-26 01:43:26.955 [INFO] app.db.migrations - Database check completed successfully
2024-12-26 01:43:26.999 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 01:43:26.999 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 01:43:26.999 [INFO] sqlalchemy.engine.Engine - [generated in 0.00011s] ()
2024-12-26 01:43:26.999 [INFO] app.db.session - db_connected: True
2024-12-26 01:43:26.999 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 01:43:27.000 [INFO] sqlalchemy.engine.Engine - [generated in 0.00007s] ()
2024-12-26 01:43:27.000 [INFO] app.db.session - db_initialized: True
2024-12-26 01:43:27.000 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 01:43:27.000 [INFO] sqlalchemy.engine.Engine - [generated in 0.00006s] ()
2024-12-26 01:43:27.000 [INFO] app.db.session - Database version: 68664dd8a6ab
2024-12-26 01:43:27.000 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 01:43:30.559 [INFO] app.services.auth_service - username='test' password='royzhu1225' email='roy@t.tcom' preferences=UserPreferences(language=<Language.EN: 'en'>, currency=<Currency.CAD: 'CAD'>, theme=<Theme.SUNSET: 'sunset'>) deviceInfo=DeviceInfo(deviceId='dev-device', deviceName='Development Machine', os='Development OS', model='2024 Model', deviceType='Desktop', manufacturer='Apple', ip='127.0.0.1')
2024-12-26 01:43:30.560 [INFO] app.services.auth_service - register user
2024-12-26 01:43:30.571 [ERROR] app.services.auth_service - User registration failed: too many values to unpack (expected 2)
2024-12-26 01:43:51.649 [INFO] __main__ - 接收到终止信号，正在清理资源...
2024-12-26 01:43:51.649 [ERROR] __main__ - 关闭数据库连接时发生错误: 'State' object has no attribute 'engine'
2024-12-26 01:46:34.815 [INFO] __main__ - Logger initialized in development mode
2024-12-26 01:46:34.815 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 01:46:34.815 [INFO] __main__ - Starting application initialization...
2024-12-26 01:46:34.815 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 01:46:34.815 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 01:46:34.815 [INFO] __main__ - Logger initialized in development mode
2024-12-26 01:46:34.815 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 01:46:34.819 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 01:46:34.820 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 01:46:34.829 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 01:46:34.829 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 01:46:34.829 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 01:46:34.830 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 01:46:34.830 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 01:46:34.831 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 01:46:34.831 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 01:46:34.831 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 01:46:34.832 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 01:46:34.832 [INFO] sqlalchemy.engine.Engine - [generated in 0.00018s] ()
2024-12-26 01:46:34.832 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 01:46:34.832 [INFO] app.db.migrations - Current database revision: 68664dd8a6ab
2024-12-26 01:46:34.832 [INFO] app.db.migrations - Target head revision: 68664dd8a6ab
2024-12-26 01:46:34.832 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-26 01:46:34.832 [INFO] app.db.migrations - Database check completed successfully
2024-12-26 01:46:34.911 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 01:46:34.911 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 01:46:34.911 [INFO] sqlalchemy.engine.Engine - [generated in 0.00017s] ()
2024-12-26 01:46:34.911 [INFO] app.db.session - db_connected: True
2024-12-26 01:46:34.911 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 01:46:34.911 [INFO] sqlalchemy.engine.Engine - [generated in 0.00008s] ()
2024-12-26 01:46:34.912 [INFO] app.db.session - db_initialized: True
2024-12-26 01:46:34.912 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 01:46:34.912 [INFO] sqlalchemy.engine.Engine - [generated in 0.00007s] ()
2024-12-26 01:46:34.912 [INFO] app.db.session - Database version: 68664dd8a6ab
2024-12-26 01:46:34.912 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 01:46:53.082 [INFO] app.services.auth_service - username='test' password='royzhu1225' email='roy@t.tcom' preferences=UserPreferences(language=<Language.EN: 'en'>, currency=<Currency.CAD: 'CAD'>, theme=<Theme.SUNSET: 'sunset'>) deviceInfo=DeviceInfo(deviceId='dev-device', deviceName='Development Machine', os='Development OS', model='2024 Model', deviceType='Desktop', manufacturer='Apple', ip='127.0.0.1')
2024-12-26 01:46:53.082 [INFO] app.services.auth_service - register user
2024-12-26 01:46:53.091 [ERROR] app.services.auth_service - User registration failed: too many values to unpack (expected 2)
2024-12-26 01:49:48.246 [INFO] __main__ - 接收到终止信号，正在清理资源...
2024-12-26 01:49:48.246 [ERROR] __main__ - 关闭数据库连接时发生错误: 'State' object has no attribute 'engine'
2024-12-26 01:49:51.071 [INFO] __main__ - Logger initialized in development mode
2024-12-26 01:49:51.071 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 01:49:51.071 [INFO] __main__ - Starting application initialization...
2024-12-26 01:49:51.071 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 01:49:51.071 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 01:49:51.072 [INFO] __main__ - Logger initialized in development mode
2024-12-26 01:49:51.072 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 01:49:51.075 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 01:49:51.076 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 01:49:51.084 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 01:49:51.084 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 01:49:51.085 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 01:49:51.086 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 01:49:51.086 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 01:49:51.086 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 01:49:51.086 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 01:49:51.086 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 01:49:51.087 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 01:49:51.087 [INFO] sqlalchemy.engine.Engine - [generated in 0.00010s] ()
2024-12-26 01:49:51.087 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 01:49:51.087 [INFO] app.db.migrations - Current database revision: 68664dd8a6ab
2024-12-26 01:49:51.088 [INFO] app.db.migrations - Target head revision: 68664dd8a6ab
2024-12-26 01:49:51.088 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-26 01:49:51.088 [INFO] app.db.migrations - Database check completed successfully
2024-12-26 01:49:51.128 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 01:49:51.128 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 01:49:51.128 [INFO] sqlalchemy.engine.Engine - [generated in 0.00011s] ()
2024-12-26 01:49:51.128 [INFO] app.db.session - db_connected: True
2024-12-26 01:49:51.128 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 01:49:51.128 [INFO] sqlalchemy.engine.Engine - [generated in 0.00007s] ()
2024-12-26 01:49:51.129 [INFO] app.db.session - db_initialized: True
2024-12-26 01:49:51.129 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 01:49:51.129 [INFO] sqlalchemy.engine.Engine - [generated in 0.00006s] ()
2024-12-26 01:49:51.129 [INFO] app.db.session - Database version: 68664dd8a6ab
2024-12-26 01:49:51.129 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 01:49:58.366 [INFO] app.services.auth_service - username='test' password='royzhu1225' email='roy@t.tcom' preferences=UserPreferences(language=<Language.EN: 'en'>, currency=<Currency.CAD: 'CAD'>, theme=<Theme.SUNSET: 'sunset'>) deviceInfo=DeviceInfo(deviceId='dev-device', deviceName='Development Machine', os='Development OS', model='2024 Model', deviceType='Desktop', manufacturer='Apple', ip='127.0.0.1')
2024-12-26 01:49:58.367 [INFO] app.services.auth_service - register user
2024-12-26 01:49:58.370 [ERROR] app.services.auth_service - User registration failed: Mapper 'Mapper[User(user)]' has no property 'sessions'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.
2024-12-26 01:51:10.995 [INFO] __main__ - 接收到终止信号，正在清理资源...
2024-12-26 01:51:10.995 [ERROR] __main__ - 关闭数据库连接时发生错误: 'State' object has no attribute 'engine'
2024-12-26 01:51:13.941 [INFO] __main__ - Logger initialized in development mode
2024-12-26 01:51:13.941 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 01:51:13.941 [INFO] __main__ - Starting application initialization...
2024-12-26 01:51:13.942 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 01:51:13.942 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 01:51:13.942 [INFO] __main__ - Logger initialized in development mode
2024-12-26 01:51:13.942 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 01:51:13.945 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 01:51:13.947 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 01:51:13.955 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 01:51:13.955 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 01:51:13.955 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 01:51:13.957 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 01:51:13.957 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 01:51:13.957 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 01:51:13.957 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 01:51:13.957 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 01:51:13.958 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 01:51:13.958 [INFO] sqlalchemy.engine.Engine - [generated in 0.00008s] ()
2024-12-26 01:51:13.958 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 01:51:13.958 [INFO] app.db.migrations - Current database revision: 68664dd8a6ab
2024-12-26 01:51:13.958 [INFO] app.db.migrations - Target head revision: 68664dd8a6ab
2024-12-26 01:51:13.958 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-26 01:51:13.958 [INFO] app.db.migrations - Database check completed successfully
2024-12-26 01:51:14.049 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 01:51:14.049 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 01:51:14.049 [INFO] sqlalchemy.engine.Engine - [generated in 0.00021s] ()
2024-12-26 01:51:14.049 [INFO] app.db.session - db_connected: True
2024-12-26 01:51:14.049 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 01:51:14.050 [INFO] sqlalchemy.engine.Engine - [generated in 0.00010s] ()
2024-12-26 01:51:14.050 [INFO] app.db.session - db_initialized: True
2024-12-26 01:51:14.050 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 01:51:14.050 [INFO] sqlalchemy.engine.Engine - [generated in 0.00009s] ()
2024-12-26 01:51:14.050 [INFO] app.db.session - Database version: 68664dd8a6ab
2024-12-26 01:51:14.050 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 01:51:19.708 [INFO] app.services.auth_service - username='test' password='royzhu1225' email='roy@t.tcom' preferences=UserPreferences(language=<Language.EN: 'en'>, currency=<Currency.CAD: 'CAD'>, theme=<Theme.SUNSET: 'sunset'>) deviceInfo=DeviceInfo(deviceId='dev-device', deviceName='Development Machine', os='Development OS', model='2024 Model', deviceType='Desktop', manufacturer='Apple', ip='127.0.0.1')
2024-12-26 01:51:19.709 [INFO] app.services.auth_service - register user
2024-12-26 01:51:19.714 [ERROR] app.services.auth_service - User registration failed: Mapper 'Mapper[User(user)]' has no property 'settings'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.
2024-12-26 01:55:49.980 [INFO] __main__ - 接收到终止信号，正在清理资源...
2024-12-26 01:55:49.981 [ERROR] __main__ - 关闭数据库连接时发生错误: 'State' object has no attribute 'engine'
2024-12-26 01:59:46.128 [INFO] __main__ - Logger initialized in development mode
2024-12-26 01:59:46.128 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 01:59:46.128 [INFO] __main__ - Starting application initialization...
2024-12-26 01:59:46.128 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 01:59:46.128 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 01:59:46.128 [INFO] __main__ - Logger initialized in development mode
2024-12-26 01:59:46.128 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 01:59:46.132 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 01:59:46.133 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 01:59:46.140 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 01:59:46.141 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 01:59:46.141 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 01:59:46.142 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 01:59:46.142 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 01:59:46.142 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 01:59:46.142 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 01:59:46.142 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 01:59:46.143 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 01:59:46.143 [INFO] sqlalchemy.engine.Engine - [generated in 0.00010s] ()
2024-12-26 01:59:46.143 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 01:59:46.143 [INFO] app.db.migrations - Current database revision: 68664dd8a6ab
2024-12-26 01:59:46.144 [INFO] app.db.migrations - Target head revision: 68664dd8a6ab
2024-12-26 01:59:46.144 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-26 01:59:46.144 [INFO] app.db.migrations - Database check completed successfully
2024-12-26 01:59:46.170 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 01:59:46.170 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 01:59:46.171 [INFO] sqlalchemy.engine.Engine - [generated in 0.00009s] ()
2024-12-26 01:59:46.171 [INFO] app.db.session - db_connected: True
2024-12-26 01:59:46.171 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 01:59:46.171 [INFO] sqlalchemy.engine.Engine - [generated in 0.00017s] ()
2024-12-26 01:59:46.171 [INFO] app.db.session - db_initialized: True
2024-12-26 01:59:46.171 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 01:59:46.171 [INFO] sqlalchemy.engine.Engine - [generated in 0.00006s] ()
2024-12-26 01:59:46.171 [INFO] app.db.session - Database version: 68664dd8a6ab
2024-12-26 01:59:46.171 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 02:00:15.175 [INFO] app.services.auth_service - username='test' password='royzhu1225' email='roy@t.tcom' preferences=UserPreferences(language=<Language.EN: 'en'>, currency=<Currency.CAD: 'CAD'>, theme=<Theme.SUNSET: 'sunset'>) deviceInfo=DeviceInfo(deviceId='dev-device', deviceName='Development Machine', os='Development OS', model='2024 Model', deviceType='Desktop', manufacturer='Apple', ip='127.0.0.1')
2024-12-26 02:00:15.175 [INFO] app.services.auth_service - register user
2024-12-26 02:00:15.181 [ERROR] app.services.auth_service - User registration failed: Mapper 'Mapper[User(user)]' has no property 'settings'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.
2024-12-26 02:02:27.241 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 02:02:27.241 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 02:02:27.241 [INFO] sqlalchemy.engine.Engine - [cached since 161.1s ago] ()
2024-12-26 02:02:27.241 [INFO] app.db.session - db_connected: True
2024-12-26 02:02:27.241 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 02:02:27.241 [INFO] sqlalchemy.engine.Engine - [cached since 161.1s ago] ()
2024-12-26 02:02:27.241 [INFO] app.db.session - db_initialized: True
2024-12-26 02:02:27.241 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 02:02:27.241 [INFO] sqlalchemy.engine.Engine - [cached since 161.1s ago] ()
2024-12-26 02:02:27.242 [INFO] app.db.session - Database version: 68664dd8a6ab
2024-12-26 02:02:27.242 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 02:02:27.848 [INFO] __main__ - Logger initialized in development mode
2024-12-26 02:02:27.848 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 02:02:27.848 [INFO] __main__ - Starting application initialization...
2024-12-26 02:02:27.849 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 02:02:27.849 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 02:02:27.849 [INFO] __main__ - Logger initialized in development mode
2024-12-26 02:02:27.849 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 02:02:27.853 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 02:02:27.854 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 02:02:27.863 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 02:02:27.863 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 02:02:27.863 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 02:02:27.865 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 02:02:27.865 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 02:02:27.865 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 02:02:27.865 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 02:02:27.865 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 02:02:27.866 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 02:02:27.866 [INFO] sqlalchemy.engine.Engine - [generated in 0.00008s] ()
2024-12-26 02:02:27.866 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 02:02:27.866 [INFO] app.db.migrations - Current database revision: 68664dd8a6ab
2024-12-26 02:02:27.866 [INFO] app.db.migrations - Target head revision: 68664dd8a6ab
2024-12-26 02:02:27.866 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-26 02:02:27.866 [INFO] app.db.migrations - Database check completed successfully
2024-12-26 02:02:55.223 [INFO] __main__ - 接收到终止信号，正在清理资源...
2024-12-26 02:02:55.223 [ERROR] __main__ - 关闭数据库连接时发生错误: 'State' object has no attribute 'engine'
2024-12-26 02:03:01.024 [INFO] __main__ - Logger initialized in development mode
2024-12-26 02:03:01.024 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 02:03:01.024 [INFO] __main__ - Starting application initialization...
2024-12-26 02:03:01.024 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 02:03:01.024 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 02:03:01.024 [INFO] __main__ - Logger initialized in development mode
2024-12-26 02:03:01.025 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 02:03:01.028 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 02:03:01.029 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 02:03:01.035 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 02:03:01.035 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 02:03:01.035 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 02:03:01.036 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 02:03:01.036 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 02:03:01.036 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 02:03:01.036 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 02:03:01.036 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 02:03:01.037 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 02:03:01.037 [INFO] sqlalchemy.engine.Engine - [generated in 0.00008s] ()
2024-12-26 02:03:01.037 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 02:03:01.037 [INFO] app.db.migrations - Current database revision: 68664dd8a6ab
2024-12-26 02:03:01.037 [INFO] app.db.migrations - Target head revision: 68664dd8a6ab
2024-12-26 02:03:01.037 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-26 02:03:01.037 [INFO] app.db.migrations - Database check completed successfully
2024-12-26 02:03:01.080 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 02:03:01.081 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 02:03:01.081 [INFO] sqlalchemy.engine.Engine - [generated in 0.00011s] ()
2024-12-26 02:03:01.081 [INFO] app.db.session - db_connected: True
2024-12-26 02:03:01.081 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 02:03:01.081 [INFO] sqlalchemy.engine.Engine - [generated in 0.00007s] ()
2024-12-26 02:03:01.081 [INFO] app.db.session - db_initialized: True
2024-12-26 02:03:01.082 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 02:03:01.082 [INFO] sqlalchemy.engine.Engine - [generated in 0.00007s] ()
2024-12-26 02:03:01.082 [INFO] app.db.session - Database version: 68664dd8a6ab
2024-12-26 02:03:01.082 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 02:03:06.234 [INFO] app.services.auth_service - username='test' password='royzhu1225' email='roy@t.tcom' preferences=UserPreferences(language=<Language.EN: 'en'>, currency=<Currency.CAD: 'CAD'>, theme=<Theme.SUNSET: 'sunset'>) deviceInfo=DeviceInfo(deviceId='dev-device', deviceName='Development Machine', os='Development OS', model='2024 Model', deviceType='Desktop', manufacturer='Apple', ip='127.0.0.1')
2024-12-26 02:03:06.234 [INFO] app.services.auth_service - register user
2024-12-26 02:03:06.238 [ERROR] app.services.auth_service - User registration failed: Mapper 'Mapper[User(user)]' has no property 'settings'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.
2024-12-26 02:06:09.885 [INFO] __main__ - 接收到终止信号，正在清理资源...
2024-12-26 02:06:09.885 [ERROR] __main__ - 关闭数据库连接时发生错误: 'State' object has no attribute 'engine'
2024-12-26 02:06:19.672 [INFO] __main__ - Logger initialized in development mode
2024-12-26 02:06:19.672 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 02:06:19.672 [INFO] __main__ - Starting application initialization...
2024-12-26 02:06:19.672 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 02:06:19.673 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 02:06:19.673 [INFO] __main__ - Logger initialized in development mode
2024-12-26 02:06:19.673 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 02:06:19.676 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 02:06:19.677 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 02:06:19.683 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 02:06:19.683 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 02:06:19.683 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 02:06:19.684 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 02:06:19.684 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 02:06:19.684 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 02:06:19.685 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 02:06:19.685 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 02:06:19.685 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 02:06:19.685 [INFO] sqlalchemy.engine.Engine - [generated in 0.00008s] ()
2024-12-26 02:06:19.685 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 02:06:19.685 [INFO] app.db.migrations - Current database revision: 68664dd8a6ab
2024-12-26 02:06:19.686 [INFO] app.db.migrations - Target head revision: 68664dd8a6ab
2024-12-26 02:06:19.686 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-26 02:06:19.686 [INFO] app.db.migrations - Database check completed successfully
2024-12-26 02:06:19.720 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 02:06:19.720 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 02:06:19.720 [INFO] sqlalchemy.engine.Engine - [generated in 0.00011s] ()
2024-12-26 02:06:19.720 [INFO] app.db.session - db_connected: True
2024-12-26 02:06:19.720 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 02:06:19.720 [INFO] sqlalchemy.engine.Engine - [generated in 0.00008s] ()
2024-12-26 02:06:19.721 [INFO] app.db.session - db_initialized: True
2024-12-26 02:06:19.721 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 02:06:19.721 [INFO] sqlalchemy.engine.Engine - [generated in 0.00008s] ()
2024-12-26 02:06:19.721 [INFO] app.db.session - Database version: 68664dd8a6ab
2024-12-26 02:06:19.721 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 02:06:23.980 [INFO] app.api.v1.endpoints.auth - username='test' password='royzhu1225' email='roy@t.tcom' preferences=UserPreferences(language=<Language.EN: 'en'>, currency=<Currency.CAD: 'CAD'>, theme=<Theme.SUNSET: 'sunset'>) deviceInfo=DeviceInfo(deviceId='dev-device', deviceName='Development Machine', os='Development OS', model='2024 Model', deviceType='Desktop', manufacturer='Apple', ip='127.0.0.1')
2024-12-26 02:13:01.370 [INFO] __main__ - 接收到终止信号，正在清理资源...
2024-12-26 02:13:01.370 [ERROR] __main__ - 关闭数据库连接时发生错误: 'State' object has no attribute 'engine'
2024-12-26 02:13:08.649 [INFO] __main__ - Logger initialized in development mode
2024-12-26 02:13:08.649 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 02:13:08.649 [INFO] __main__ - Starting application initialization...
2024-12-26 02:13:08.649 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 02:13:08.649 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 02:13:08.649 [INFO] __main__ - Logger initialized in development mode
2024-12-26 02:13:08.649 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 02:13:08.653 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 02:13:08.655 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 02:13:08.663 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 02:13:08.663 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 02:13:08.663 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 02:13:08.665 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 02:13:08.665 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 02:13:08.665 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 02:13:08.665 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 02:13:08.665 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 02:13:08.666 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 02:13:08.666 [INFO] sqlalchemy.engine.Engine - [generated in 0.00010s] ()
2024-12-26 02:13:08.667 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 02:13:08.667 [INFO] app.db.migrations - Current database revision: 68664dd8a6ab
2024-12-26 02:13:08.667 [INFO] app.db.migrations - Target head revision: 68664dd8a6ab
2024-12-26 02:13:08.667 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-26 02:13:08.667 [INFO] app.db.migrations - Database check completed successfully
2024-12-26 02:13:08.773 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 02:13:08.773 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 02:13:08.774 [INFO] sqlalchemy.engine.Engine - [generated in 0.00012s] ()
2024-12-26 02:13:08.774 [INFO] app.db.session - db_connected: True
2024-12-26 02:13:08.774 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 02:13:08.774 [INFO] sqlalchemy.engine.Engine - [generated in 0.00008s] ()
2024-12-26 02:13:08.774 [INFO] app.db.session - db_initialized: True
2024-12-26 02:13:08.774 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 02:13:08.774 [INFO] sqlalchemy.engine.Engine - [generated in 0.00008s] ()
2024-12-26 02:13:08.774 [INFO] app.db.session - Database version: 68664dd8a6ab
2024-12-26 02:13:08.775 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 02:13:13.553 [INFO] app.api.v1.endpoints.auth - username='test' password='royzhu1225' email='roy@t.tcom' preferences=UserPreferences(language=<Language.EN: 'en'>, currency=<Currency.CAD: 'CAD'>, theme=<Theme.SUNSET: 'sunset'>) deviceInfo=DeviceInfo(deviceId='dev-device', deviceName='Development Machine', os='Development OS', model='2024 Model', deviceType='Desktop', manufacturer='Apple', ip='127.0.0.1')
2024-12-26 02:13:45.905 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 02:13:45.906 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 02:13:45.906 [INFO] sqlalchemy.engine.Engine - [cached since 37.13s ago] ()
2024-12-26 02:13:45.906 [INFO] app.db.session - db_connected: True
2024-12-26 02:13:45.906 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 02:13:45.906 [INFO] sqlalchemy.engine.Engine - [cached since 37.13s ago] ()
2024-12-26 02:13:45.906 [INFO] app.db.session - db_initialized: True
2024-12-26 02:13:45.906 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 02:13:45.906 [INFO] sqlalchemy.engine.Engine - [cached since 37.13s ago] ()
2024-12-26 02:13:45.906 [INFO] app.db.session - Database version: 68664dd8a6ab
2024-12-26 02:13:45.907 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 02:13:46.681 [INFO] __main__ - Logger initialized in development mode
2024-12-26 02:13:46.682 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 02:13:46.682 [INFO] __main__ - Starting application initialization...
2024-12-26 02:13:46.682 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 02:13:46.682 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 02:13:46.682 [INFO] __main__ - Logger initialized in development mode
2024-12-26 02:13:46.682 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 02:13:46.686 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 02:13:46.688 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 02:13:46.695 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 02:13:46.696 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 02:13:46.696 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 02:13:46.697 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 02:13:46.697 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 02:13:46.697 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 02:13:46.697 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 02:13:46.697 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 02:13:46.698 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 02:13:46.699 [INFO] sqlalchemy.engine.Engine - [generated in 0.00014s] ()
2024-12-26 02:13:46.699 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 02:13:46.699 [INFO] app.db.migrations - Current database revision: 68664dd8a6ab
2024-12-26 02:13:46.699 [INFO] app.db.migrations - Target head revision: 68664dd8a6ab
2024-12-26 02:13:46.699 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-26 02:13:46.699 [INFO] app.db.migrations - Database check completed successfully
2024-12-26 02:14:04.112 [INFO] __main__ - 接收到终止信号，正在清理资源...
2024-12-26 02:14:04.113 [ERROR] __main__ - 关闭数据库连接时发生错误: 'State' object has no attribute 'engine'
2024-12-26 02:14:08.787 [INFO] __main__ - Logger initialized in development mode
2024-12-26 02:14:08.787 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 02:14:08.787 [INFO] __main__ - Starting application initialization...
2024-12-26 02:14:08.787 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 02:14:08.787 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 02:14:08.787 [INFO] __main__ - Logger initialized in development mode
2024-12-26 02:14:08.787 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 02:14:08.791 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 02:14:08.791 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 02:14:08.797 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 02:14:08.797 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 02:14:08.797 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 02:14:08.798 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 02:14:08.798 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 02:14:08.798 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 02:14:08.798 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 02:14:08.798 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 02:14:08.799 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 02:14:08.799 [INFO] sqlalchemy.engine.Engine - [generated in 0.00008s] ()
2024-12-26 02:14:08.799 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 02:14:08.799 [INFO] app.db.migrations - Current database revision: 68664dd8a6ab
2024-12-26 02:14:08.799 [INFO] app.db.migrations - Target head revision: 68664dd8a6ab
2024-12-26 02:14:08.799 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-26 02:14:08.799 [INFO] app.db.migrations - Database check completed successfully
2024-12-26 02:14:08.836 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 02:14:08.836 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 02:14:08.836 [INFO] sqlalchemy.engine.Engine - [generated in 0.00011s] ()
2024-12-26 02:14:08.837 [INFO] app.db.session - db_connected: True
2024-12-26 02:14:08.837 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 02:14:08.837 [INFO] sqlalchemy.engine.Engine - [generated in 0.00013s] ()
2024-12-26 02:14:08.837 [INFO] app.db.session - db_initialized: True
2024-12-26 02:14:08.837 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 02:14:08.837 [INFO] sqlalchemy.engine.Engine - [generated in 0.00008s] ()
2024-12-26 02:14:08.837 [INFO] app.db.session - Database version: 68664dd8a6ab
2024-12-26 02:14:08.837 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 02:14:12.789 [INFO] app.api.v1.endpoints.auth - username='test' password='royzhu1225' email='roy@t.tcom' preferences=UserPreferences(language=<Language.EN: 'en'>, currency=<Currency.CAD: 'CAD'>, theme=<Theme.SUNSET: 'sunset'>) deviceInfo=DeviceInfo(deviceId='dev-device', deviceName='Development Machine', os='Development OS', model='2024 Model', deviceType='Desktop', manufacturer='Apple', ip='127.0.0.1')
2024-12-26 02:14:16.488 [INFO] __main__ - 接收到终止信号，正在清理资源...
2024-12-26 02:14:16.488 [ERROR] __main__ - 关闭数据库连接时发生错误: 'State' object has no attribute 'engine'
2024-12-26 02:15:05.383 [INFO] __main__ - Logger initialized in development mode
2024-12-26 02:15:05.383 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 02:15:05.384 [INFO] __main__ - Starting application initialization...
2024-12-26 02:15:05.384 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 02:15:05.384 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 02:15:05.384 [INFO] __main__ - Logger initialized in development mode
2024-12-26 02:15:05.384 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 02:15:05.387 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 02:15:05.388 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 02:15:05.394 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 02:15:05.394 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 02:15:05.394 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 02:15:05.395 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 02:15:05.395 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 02:15:05.396 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 02:15:05.396 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 02:15:05.396 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 02:15:05.396 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 02:15:05.396 [INFO] sqlalchemy.engine.Engine - [generated in 0.00009s] ()
2024-12-26 02:15:05.396 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 02:15:05.397 [INFO] app.db.migrations - Current database revision: 68664dd8a6ab
2024-12-26 02:15:05.397 [INFO] app.db.migrations - Target head revision: 68664dd8a6ab
2024-12-26 02:15:05.397 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-26 02:15:05.397 [INFO] app.db.migrations - Database check completed successfully
2024-12-26 02:15:05.409 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 02:15:05.409 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 02:15:05.409 [INFO] sqlalchemy.engine.Engine - [generated in 0.00011s] ()
2024-12-26 02:15:05.410 [INFO] app.db.session - db_connected: True
2024-12-26 02:15:05.410 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 02:15:05.410 [INFO] sqlalchemy.engine.Engine - [generated in 0.00011s] ()
2024-12-26 02:15:05.410 [INFO] app.db.session - db_initialized: True
2024-12-26 02:15:05.410 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 02:15:05.410 [INFO] sqlalchemy.engine.Engine - [generated in 0.00010s] ()
2024-12-26 02:15:05.410 [INFO] app.db.session - Database version: 68664dd8a6ab
2024-12-26 02:15:05.411 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 02:18:12.789 [INFO] __main__ - 接收到终止信号，正在清理资源...
2024-12-26 02:18:12.790 [ERROR] __main__ - 关闭数据库连接时发生错误: 'State' object has no attribute 'engine'
2024-12-26 02:19:08.887 [INFO] __main__ - Logger initialized in development mode
2024-12-26 02:19:08.887 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 02:19:08.887 [INFO] __main__ - Starting application initialization...
2024-12-26 02:19:08.887 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 02:19:08.887 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 02:19:08.888 [INFO] __main__ - Logger initialized in development mode
2024-12-26 02:19:08.888 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 02:19:08.890 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 02:19:08.892 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 02:19:08.900 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 02:19:08.900 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 02:19:08.901 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 02:19:08.902 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 02:19:08.902 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 02:19:08.902 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 02:19:08.902 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 02:19:08.902 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 02:19:08.903 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 02:19:08.903 [INFO] sqlalchemy.engine.Engine - [generated in 0.00014s] ()
2024-12-26 02:19:08.903 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 02:19:08.904 [INFO] app.db.migrations - Current database revision: 68664dd8a6ab
2024-12-26 02:19:08.904 [INFO] app.db.migrations - Target head revision: 68664dd8a6ab
2024-12-26 02:19:08.904 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-26 02:19:08.904 [INFO] app.db.migrations - Database check completed successfully
2024-12-26 02:19:09.021 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 02:19:09.021 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 02:19:09.021 [INFO] sqlalchemy.engine.Engine - [generated in 0.00017s] ()
2024-12-26 02:19:09.021 [INFO] app.db.session - db_connected: True
2024-12-26 02:19:09.021 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 02:19:09.022 [INFO] sqlalchemy.engine.Engine - [generated in 0.00010s] ()
2024-12-26 02:19:09.022 [INFO] app.db.session - db_initialized: True
2024-12-26 02:19:09.022 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 02:19:09.022 [INFO] sqlalchemy.engine.Engine - [generated in 0.00011s] ()
2024-12-26 02:19:09.022 [INFO] app.db.session - Database version: 68664dd8a6ab
2024-12-26 02:19:09.023 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 02:19:17.796 [INFO] __main__ - 接收到终止信号，正在清理资源...
2024-12-26 02:19:17.796 [ERROR] __main__ - 关闭数据库连接时发生错误: 'State' object has no attribute 'engine'
2024-12-26 02:19:50.089 [INFO] __main__ - Logger initialized in development mode
2024-12-26 02:19:50.089 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 02:19:50.089 [INFO] __main__ - Starting application initialization...
2024-12-26 02:19:50.089 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 02:19:50.090 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 02:19:50.090 [INFO] __main__ - Logger initialized in development mode
2024-12-26 02:19:50.090 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 02:19:50.092 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 02:19:50.093 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 02:19:50.098 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 02:19:50.099 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 02:19:50.099 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 02:19:50.100 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 02:19:50.100 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 02:19:50.100 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 02:19:50.100 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 02:19:50.100 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 02:19:50.101 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 02:19:50.101 [INFO] sqlalchemy.engine.Engine - [generated in 0.00008s] ()
2024-12-26 02:19:50.101 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 02:19:50.101 [INFO] app.db.migrations - Current database revision: 68664dd8a6ab
2024-12-26 02:19:50.101 [INFO] app.db.migrations - Target head revision: 68664dd8a6ab
2024-12-26 02:19:50.101 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-26 02:19:50.101 [INFO] app.db.migrations - Database check completed successfully
2024-12-26 02:19:50.176 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 02:19:50.177 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 02:19:50.177 [INFO] sqlalchemy.engine.Engine - [generated in 0.00020s] ()
2024-12-26 02:19:50.177 [INFO] app.db.session - db_connected: True
2024-12-26 02:19:50.177 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 02:19:50.177 [INFO] sqlalchemy.engine.Engine - [generated in 0.00008s] ()
2024-12-26 02:19:50.178 [INFO] app.db.session - db_initialized: True
2024-12-26 02:19:50.178 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 02:19:50.178 [INFO] sqlalchemy.engine.Engine - [generated in 0.00008s] ()
2024-12-26 02:19:50.178 [INFO] app.db.session - Database version: 68664dd8a6ab
2024-12-26 02:19:50.178 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 02:20:16.192 [INFO] __main__ - 接收到终止信号，正在清理资源...
2024-12-26 02:20:16.193 [ERROR] __main__ - 关闭数据库连接时发生错误: 'State' object has no attribute 'engine'
2024-12-26 11:00:38.710 [INFO] __main__ - Logger initialized in development mode
2024-12-26 11:00:38.711 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 11:00:38.711 [INFO] __main__ - Starting application initialization...
2024-12-26 11:00:38.711 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 11:00:38.711 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 11:00:38.711 [INFO] __main__ - Logger initialized in development mode
2024-12-26 11:00:38.711 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 11:00:38.713 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 11:00:38.715 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 11:00:38.723 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 11:00:38.723 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 11:00:38.723 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 11:00:38.726 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 11:00:38.726 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 11:00:38.726 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 11:00:38.726 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 11:00:38.726 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 11:00:38.728 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 11:00:38.728 [INFO] sqlalchemy.engine.Engine - [generated in 0.00010s] ()
2024-12-26 11:00:38.728 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 11:00:38.728 [INFO] app.db.migrations - Current database revision: 68664dd8a6ab
2024-12-26 11:00:38.728 [INFO] app.db.migrations - Target head revision: 68664dd8a6ab
2024-12-26 11:00:38.728 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-26 11:00:38.728 [INFO] app.db.migrations - Database check completed successfully
2024-12-26 11:00:38.789 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 11:00:38.790 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 11:00:38.790 [INFO] sqlalchemy.engine.Engine - [generated in 0.00051s] ()
2024-12-26 11:00:38.791 [INFO] app.db.session - db_connected: True
2024-12-26 11:00:38.791 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 11:00:38.792 [INFO] sqlalchemy.engine.Engine - [generated in 0.00051s] ()
2024-12-26 11:00:38.793 [INFO] app.db.session - db_initialized: True
2024-12-26 11:00:38.793 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 11:00:38.793 [INFO] sqlalchemy.engine.Engine - [generated in 0.00008s] ()
2024-12-26 11:00:38.793 [INFO] app.db.session - Database version: 68664dd8a6ab
2024-12-26 11:00:38.793 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 11:00:47.029 [INFO] __main__ - 接收到终止信号，正在清理资源...
2024-12-26 11:00:47.029 [ERROR] __main__ - 关闭数据库连接时发生错误: 'State' object has no attribute 'engine'
2024-12-26 11:10:58.621 [INFO] __main__ - Logger initialized in development mode
2024-12-26 11:10:58.622 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 11:10:58.622 [INFO] __main__ - Starting application initialization...
2024-12-26 11:10:58.622 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 11:10:58.622 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 11:10:58.622 [INFO] __main__ - Logger initialized in development mode
2024-12-26 11:10:58.622 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 11:10:58.625 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 11:10:58.627 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 11:10:58.635 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 11:10:58.635 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 11:10:58.636 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 11:10:58.639 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 11:10:58.639 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 11:10:58.639 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 11:10:58.639 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 11:10:58.639 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 11:10:58.641 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 11:10:58.641 [INFO] sqlalchemy.engine.Engine - [generated in 0.00012s] ()
2024-12-26 11:10:58.641 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 11:10:58.641 [INFO] app.db.migrations - Current database revision: 68664dd8a6ab
2024-12-26 11:10:58.641 [INFO] app.db.migrations - Target head revision: 68664dd8a6ab
2024-12-26 11:10:58.641 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-26 11:10:58.641 [INFO] app.db.migrations - Database check completed successfully
2024-12-26 11:10:58.757 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 11:10:58.758 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 11:10:58.758 [INFO] sqlalchemy.engine.Engine - [generated in 0.00011s] ()
2024-12-26 11:10:58.758 [INFO] app.db.session - db_connected: True
2024-12-26 11:10:58.758 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 11:10:58.758 [INFO] sqlalchemy.engine.Engine - [generated in 0.00008s] ()
2024-12-26 11:10:58.759 [INFO] app.db.session - db_initialized: True
2024-12-26 11:10:58.759 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 11:10:58.759 [INFO] sqlalchemy.engine.Engine - [generated in 0.00012s] ()
2024-12-26 11:10:58.759 [INFO] app.db.session - Database version: 68664dd8a6ab
2024-12-26 11:10:58.759 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 11:14:55.598 [INFO] __main__ - 接收到终止信号，正在清理资源...
2024-12-26 11:14:55.599 [ERROR] __main__ - 关闭数据库连接时发生错误: 'State' object has no attribute 'engine'
2024-12-26 11:15:09.162 [INFO] __main__ - Logger initialized in development mode
2024-12-26 11:15:09.162 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 11:15:09.162 [INFO] __main__ - Starting application initialization...
2024-12-26 11:15:09.163 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 11:15:09.163 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 11:15:09.163 [INFO] __main__ - Logger initialized in development mode
2024-12-26 11:15:09.163 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 11:15:09.166 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 11:15:09.167 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 11:15:09.175 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 11:15:09.175 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 11:15:09.176 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 11:15:09.177 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 11:15:09.177 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 11:15:09.177 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 11:15:09.177 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 11:15:09.177 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 11:15:09.178 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 11:15:09.178 [INFO] sqlalchemy.engine.Engine - [generated in 0.00008s] ()
2024-12-26 11:15:09.178 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 11:15:09.178 [INFO] app.db.migrations - Current database revision: 68664dd8a6ab
2024-12-26 11:15:09.179 [INFO] app.db.migrations - Target head revision: 68664dd8a6ab
2024-12-26 11:15:09.179 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-26 11:15:09.179 [INFO] app.db.migrations - Database check completed successfully
2024-12-26 11:15:09.297 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 11:15:09.297 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 11:15:09.297 [INFO] sqlalchemy.engine.Engine - [generated in 0.00010s] ()
2024-12-26 11:15:09.297 [INFO] app.db.session - db_connected: True
2024-12-26 11:15:09.297 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 11:15:09.298 [INFO] sqlalchemy.engine.Engine - [generated in 0.00007s] ()
2024-12-26 11:15:09.298 [INFO] app.db.session - db_initialized: True
2024-12-26 11:15:09.298 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 11:15:09.298 [INFO] sqlalchemy.engine.Engine - [generated in 0.00007s] ()
2024-12-26 11:15:09.298 [INFO] app.db.session - Database version: 68664dd8a6ab
2024-12-26 11:15:09.298 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 11:15:23.709 [INFO] app.services.auth_service - username='test' password='royzhu1225' email='roy@t.tcom' preferences=UserPreferences(language=<Language.EN: 'en'>, currency=<Currency.CAD: 'CAD'>, theme=<Theme.SUNSET: 'sunset'>) deviceInfo=DeviceInfo(deviceId='dev-device', deviceName='Development Machine', os='Development OS', model='2024 Model', deviceType='Desktop', manufacturer='Apple', ip='127.0.0.1')
2024-12-26 11:15:23.710 [INFO] app.services.auth_service - register user
2024-12-26 11:15:23.722 [ERROR] app.services.auth_service - User registration failed: too many values to unpack (expected 2)
2024-12-26 11:15:23.722 [ERROR] app.api.v1.endpoints.auth - User registration failed: too many values to unpack (expected 2)
2024-12-26 11:16:22.849 [INFO] __main__ - 接收到终止信号，正在清理资源...
2024-12-26 11:16:22.850 [ERROR] __main__ - 关闭数据库连接时发生错误: 'State' object has no attribute 'engine'
2024-12-26 11:17:26.999 [INFO] __main__ - Logger initialized in development mode
2024-12-26 11:17:26.999 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 11:17:26.999 [INFO] __main__ - Starting application initialization...
2024-12-26 11:17:26.999 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 11:17:26.999 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 11:17:26.999 [INFO] __main__ - Logger initialized in development mode
2024-12-26 11:17:27.000 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 11:17:27.002 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 11:17:27.004 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 11:17:27.011 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 11:17:27.011 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 11:17:27.012 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 11:17:27.013 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 11:17:27.013 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 11:17:27.013 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 11:17:27.013 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 11:17:27.013 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 11:17:27.014 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 11:17:27.014 [INFO] sqlalchemy.engine.Engine - [generated in 0.00009s] ()
2024-12-26 11:17:27.014 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 11:17:27.014 [INFO] app.db.migrations - Current database revision: 68664dd8a6ab
2024-12-26 11:17:27.014 [INFO] app.db.migrations - Target head revision: 68664dd8a6ab
2024-12-26 11:17:27.014 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-26 11:17:27.014 [INFO] app.db.migrations - Database check completed successfully
2024-12-26 11:17:27.059 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 11:17:27.059 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 11:17:27.059 [INFO] sqlalchemy.engine.Engine - [generated in 0.00010s] ()
2024-12-26 11:17:27.059 [INFO] app.db.session - db_connected: True
2024-12-26 11:17:27.060 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 11:17:27.060 [INFO] sqlalchemy.engine.Engine - [generated in 0.00012s] ()
2024-12-26 11:17:27.060 [INFO] app.db.session - db_initialized: True
2024-12-26 11:17:27.060 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 11:17:27.060 [INFO] sqlalchemy.engine.Engine - [generated in 0.00007s] ()
2024-12-26 11:17:27.060 [INFO] app.db.session - Database version: 68664dd8a6ab
2024-12-26 11:17:27.060 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 11:17:32.129 [INFO] app.services.auth_service - username='test' password='royzhu1225' email='roy@t.tcom' preferences=UserPreferences(language=<Language.EN: 'en'>, currency=<Currency.CAD: 'CAD'>, theme=<Theme.SUNSET: 'sunset'>) deviceInfo=DeviceInfo(deviceId='dev-device', deviceName='Development Machine', os='Development OS', model='2024 Model', deviceType='Desktop', manufacturer='Apple', ip='127.0.0.1')
2024-12-26 11:17:32.130 [INFO] app.services.auth_service - register user
2024-12-26 11:17:32.145 [ERROR] app.services.auth_service - User registration failed: too many values to unpack (expected 2)
2024-12-26 11:17:32.145 [ERROR] app.api.v1.endpoints.auth - User registration failed: too many values to unpack (expected 2)
2024-12-26 11:21:19.588 [INFO] __main__ - 接收到终止信号，正在清理资源...
2024-12-26 11:21:19.588 [ERROR] __main__ - 关闭数据库连接时发生错误: 'State' object has no attribute 'engine'
2024-12-26 11:21:25.825 [INFO] __main__ - Logger initialized in development mode
2024-12-26 11:21:25.825 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 11:21:25.825 [INFO] __main__ - Starting application initialization...
2024-12-26 11:21:25.825 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 11:21:25.825 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 11:21:25.825 [INFO] __main__ - Logger initialized in development mode
2024-12-26 11:21:25.825 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 11:21:25.828 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 11:21:25.830 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 11:21:25.838 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 11:21:25.838 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 11:21:25.838 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 11:21:25.840 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 11:21:25.840 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 11:21:25.840 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 11:21:25.840 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 11:21:25.840 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 11:21:25.841 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 11:21:25.841 [INFO] sqlalchemy.engine.Engine - [generated in 0.00013s] ()
2024-12-26 11:21:25.841 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 11:21:25.842 [INFO] app.db.migrations - Current database revision: 68664dd8a6ab
2024-12-26 11:21:25.842 [INFO] app.db.migrations - Target head revision: 68664dd8a6ab
2024-12-26 11:21:25.842 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-26 11:21:25.842 [INFO] app.db.migrations - Database check completed successfully
2024-12-26 11:21:25.915 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 11:21:25.915 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 11:21:25.916 [INFO] sqlalchemy.engine.Engine - [generated in 0.00013s] ()
2024-12-26 11:21:25.916 [INFO] app.db.session - db_connected: True
2024-12-26 11:21:25.916 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 11:21:25.916 [INFO] sqlalchemy.engine.Engine - [generated in 0.00007s] ()
2024-12-26 11:21:25.916 [INFO] app.db.session - db_initialized: True
2024-12-26 11:21:25.916 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 11:21:25.916 [INFO] sqlalchemy.engine.Engine - [generated in 0.00011s] ()
2024-12-26 11:21:25.916 [INFO] app.db.session - Database version: 68664dd8a6ab
2024-12-26 11:21:25.916 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 11:21:31.052 [INFO] app.services.auth_service - username='test' password='royzhu1225' email='roy@t.tcom' preferences=UserPreferences(language=<Language.EN: 'en'>, currency=<Currency.CAD: 'CAD'>, theme=<Theme.SUNSET: 'sunset'>) deviceInfo=DeviceInfo(deviceId='dev-device', deviceName='Development Machine', os='Development OS', model='2024 Model', deviceType='Desktop', manufacturer='Apple', ip='127.0.0.1')
2024-12-26 11:21:31.052 [INFO] app.services.auth_service - register user
2024-12-26 11:21:31.065 [ERROR] app.services.auth_service - User registration failed: too many values to unpack (expected 2)
2024-12-26 11:21:31.066 [ERROR] app.api.v1.endpoints.auth - User registration failed: too many values to unpack (expected 2)
2024-12-26 11:23:08.640 [INFO] __main__ - 接收到终止信号，正在清理资源...
2024-12-26 11:23:08.640 [ERROR] __main__ - 关闭数据库连接时发生错误: 'State' object has no attribute 'engine'
2024-12-26 11:23:12.131 [INFO] __main__ - Logger initialized in development mode
2024-12-26 11:23:12.131 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 11:23:12.131 [INFO] __main__ - Starting application initialization...
2024-12-26 11:23:12.131 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 11:23:12.131 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 11:23:12.131 [INFO] __main__ - Logger initialized in development mode
2024-12-26 11:23:12.131 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 11:23:12.134 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 11:23:12.135 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 11:23:12.143 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 11:23:12.143 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 11:23:12.143 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 11:23:12.144 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 11:23:12.144 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 11:23:12.144 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 11:23:12.144 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 11:23:12.144 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 11:23:12.145 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 11:23:12.145 [INFO] sqlalchemy.engine.Engine - [generated in 0.00010s] ()
2024-12-26 11:23:12.145 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 11:23:12.145 [INFO] app.db.migrations - Current database revision: 68664dd8a6ab
2024-12-26 11:23:12.145 [INFO] app.db.migrations - Target head revision: 68664dd8a6ab
2024-12-26 11:23:12.145 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-26 11:23:12.145 [INFO] app.db.migrations - Database check completed successfully
2024-12-26 11:23:12.184 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 11:23:12.184 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 11:23:12.185 [INFO] sqlalchemy.engine.Engine - [generated in 0.00010s] ()
2024-12-26 11:23:12.185 [INFO] app.db.session - db_connected: True
2024-12-26 11:23:12.185 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 11:23:12.185 [INFO] sqlalchemy.engine.Engine - [generated in 0.00006s] ()
2024-12-26 11:23:12.185 [INFO] app.db.session - db_initialized: True
2024-12-26 11:23:12.185 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 11:23:12.185 [INFO] sqlalchemy.engine.Engine - [generated in 0.00008s] ()
2024-12-26 11:23:12.185 [INFO] app.db.session - Database version: 68664dd8a6ab
2024-12-26 11:23:12.185 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 11:26:43.759 [INFO] __main__ - 接收到终止信号，正在清理资源...
2024-12-26 11:26:43.759 [ERROR] __main__ - 关闭数据库连接时发生错误: 'State' object has no attribute 'engine'
2024-12-26 11:26:47.727 [INFO] __main__ - Logger initialized in development mode
2024-12-26 11:26:47.727 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 11:26:47.727 [INFO] __main__ - Starting application initialization...
2024-12-26 11:26:47.727 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 11:26:47.727 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 11:26:47.727 [INFO] __main__ - Logger initialized in development mode
2024-12-26 11:26:47.727 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 11:26:47.730 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 11:26:47.732 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 11:26:47.739 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 11:26:47.739 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 11:26:47.739 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 11:26:47.740 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 11:26:47.740 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 11:26:47.740 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 11:26:47.741 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 11:26:47.741 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 11:26:47.741 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 11:26:47.742 [INFO] sqlalchemy.engine.Engine - [generated in 0.00007s] ()
2024-12-26 11:26:47.742 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 11:26:47.742 [INFO] app.db.migrations - Current database revision: 68664dd8a6ab
2024-12-26 11:26:47.742 [INFO] app.db.migrations - Target head revision: 68664dd8a6ab
2024-12-26 11:26:47.742 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-26 11:26:47.742 [INFO] app.db.migrations - Database check completed successfully
2024-12-26 11:26:47.810 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 11:26:47.811 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 11:26:47.811 [INFO] sqlalchemy.engine.Engine - [generated in 0.00010s] ()
2024-12-26 11:26:47.811 [INFO] app.db.session - db_connected: True
2024-12-26 11:26:47.811 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 11:26:47.811 [INFO] sqlalchemy.engine.Engine - [generated in 0.00007s] ()
2024-12-26 11:26:47.811 [INFO] app.db.session - db_initialized: True
2024-12-26 11:26:47.811 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 11:26:47.811 [INFO] sqlalchemy.engine.Engine - [generated in 0.00007s] ()
2024-12-26 11:26:47.811 [INFO] app.db.session - Database version: 68664dd8a6ab
2024-12-26 11:26:47.812 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 11:26:52.967 [INFO] app.services.auth_service - register user
2024-12-26 11:26:52.978 [ERROR] app.services.auth_service - User registration failed: too many values to unpack (expected 2)
2024-12-26 11:26:52.978 [ERROR] app.api.v1.endpoints.auth - User registration failed: too many values to unpack (expected 2)
2024-12-26 11:28:42.641 [INFO] __main__ - 接收到终止信号，正在清理资源...
2024-12-26 11:28:42.642 [ERROR] __main__ - 关闭数据库连接时发生错误: 'State' object has no attribute 'engine'
2024-12-26 11:28:45.581 [INFO] __main__ - Logger initialized in development mode
2024-12-26 11:28:45.581 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 11:28:45.581 [INFO] __main__ - Starting application initialization...
2024-12-26 11:28:45.581 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 11:28:45.581 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 11:28:45.581 [INFO] __main__ - Logger initialized in development mode
2024-12-26 11:28:45.581 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 11:28:45.584 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 11:28:45.585 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 11:28:45.593 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 11:28:45.593 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 11:28:45.593 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 11:28:45.595 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 11:28:45.595 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 11:28:45.595 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 11:28:45.595 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 11:28:45.595 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 11:28:45.596 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 11:28:45.596 [INFO] sqlalchemy.engine.Engine - [generated in 0.00009s] ()
2024-12-26 11:28:45.596 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 11:28:45.596 [INFO] app.db.migrations - Current database revision: 68664dd8a6ab
2024-12-26 11:28:45.596 [INFO] app.db.migrations - Target head revision: 68664dd8a6ab
2024-12-26 11:28:45.596 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-26 11:28:45.596 [INFO] app.db.migrations - Database check completed successfully
2024-12-26 11:28:45.705 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 11:28:45.706 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 11:28:45.706 [INFO] sqlalchemy.engine.Engine - [generated in 0.00013s] ()
2024-12-26 11:28:45.706 [INFO] app.db.session - db_connected: True
2024-12-26 11:28:45.706 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 11:28:45.706 [INFO] sqlalchemy.engine.Engine - [generated in 0.00012s] ()
2024-12-26 11:28:45.707 [INFO] app.db.session - db_initialized: True
2024-12-26 11:28:45.707 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 11:28:45.707 [INFO] sqlalchemy.engine.Engine - [generated in 0.00008s] ()
2024-12-26 11:28:45.707 [INFO] app.db.session - Database version: 68664dd8a6ab
2024-12-26 11:28:45.707 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 11:28:50.272 [INFO] app.services.auth_service - test
2024-12-26 11:28:50.272 [INFO] app.services.auth_service - roy@t.tcom
2024-12-26 11:28:50.272 [INFO] app.services.auth_service - royzhu1225
2024-12-26 11:28:50.272 [INFO] app.services.auth_service - register user
2024-12-26 11:28:50.285 [ERROR] app.services.auth_service - User registration failed: too many values to unpack (expected 2)
2024-12-26 11:28:50.285 [ERROR] app.api.v1.endpoints.auth - User registration failed: too many values to unpack (expected 2)
2024-12-26 11:33:33.601 [INFO] __main__ - 接收到终止信号，正在清理资源...
2024-12-26 11:33:33.601 [ERROR] __main__ - 关闭数据库连接时发生错误: 'State' object has no attribute 'engine'
2024-12-26 11:33:36.379 [INFO] __main__ - Logger initialized in development mode
2024-12-26 11:33:36.379 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 11:33:36.379 [INFO] __main__ - Starting application initialization...
2024-12-26 11:33:36.380 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 11:33:36.380 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 11:33:36.380 [INFO] __main__ - Logger initialized in development mode
2024-12-26 11:33:36.380 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 11:33:36.383 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 11:33:36.384 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 11:33:36.392 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 11:33:36.392 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 11:33:36.393 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 11:33:36.394 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 11:33:36.394 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 11:33:36.394 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 11:33:36.394 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 11:33:36.395 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 11:33:36.396 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 11:33:36.396 [INFO] sqlalchemy.engine.Engine - [generated in 0.00013s] ()
2024-12-26 11:33:36.396 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 11:33:36.396 [INFO] app.db.migrations - Current database revision: 68664dd8a6ab
2024-12-26 11:33:36.396 [INFO] app.db.migrations - Target head revision: 68664dd8a6ab
2024-12-26 11:33:36.396 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-26 11:33:36.396 [INFO] app.db.migrations - Database check completed successfully
2024-12-26 11:33:36.421 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 11:33:36.421 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 11:33:36.421 [INFO] sqlalchemy.engine.Engine - [generated in 0.00009s] ()
2024-12-26 11:33:36.421 [INFO] app.db.session - db_connected: True
2024-12-26 11:33:36.421 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 11:33:36.421 [INFO] sqlalchemy.engine.Engine - [generated in 0.00006s] ()
2024-12-26 11:33:36.422 [INFO] app.db.session - db_initialized: True
2024-12-26 11:33:36.422 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 11:33:36.422 [INFO] sqlalchemy.engine.Engine - [generated in 0.00006s] ()
2024-12-26 11:33:36.422 [INFO] app.db.session - Database version: 68664dd8a6ab
2024-12-26 11:33:36.422 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 11:33:40.545 [INFO] app.services.auth_service - username='test' password='royzhu1225' email='roy@t.tcom' preferences=UserPreferences(language=<Language.EN: 'en'>, currency=<Currency.CAD: 'CAD'>, theme=<Theme.SUNSET: 'sunset'>) deviceInfo=DeviceInfo(deviceId='dev-device', deviceName='Development Machine', os='Development OS', model='2024 Model', deviceType='Desktop', manufacturer='Apple', ip='127.0.0.1')
2024-12-26 11:33:40.545 [INFO] app.services.auth_service - register user
2024-12-26 11:33:40.545 [INFO] app.services.auth_service - Creating user object with username=test, email=roy@t.tcom
2024-12-26 11:33:40.545 [ERROR] app.services.auth_service - User registration failed: type object 'User' has no attribute 'pwd_context'
2024-12-26 11:33:40.545 [ERROR] app.api.v1.endpoints.auth - User registration failed: type object 'User' has no attribute 'pwd_context'
2024-12-26 11:34:18.989 [INFO] __main__ - 接收到终止信号，正在清理资源...
2024-12-26 11:34:18.990 [ERROR] __main__ - 关闭数据库连接时发生错误: 'State' object has no attribute 'engine'
2024-12-26 11:34:21.853 [INFO] __main__ - Logger initialized in development mode
2024-12-26 11:34:21.853 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 11:34:21.853 [INFO] __main__ - Starting application initialization...
2024-12-26 11:34:21.853 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 11:34:21.853 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 11:34:21.853 [INFO] __main__ - Logger initialized in development mode
2024-12-26 11:34:21.853 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 11:34:21.856 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 11:34:21.857 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 11:34:21.865 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 11:34:21.865 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 11:34:21.865 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 11:34:21.866 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 11:34:21.866 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 11:34:21.866 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 11:34:21.866 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 11:34:21.867 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 11:34:21.867 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 11:34:21.868 [INFO] sqlalchemy.engine.Engine - [generated in 0.00009s] ()
2024-12-26 11:34:21.868 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 11:34:21.868 [INFO] app.db.migrations - Current database revision: 68664dd8a6ab
2024-12-26 11:34:21.868 [INFO] app.db.migrations - Target head revision: 68664dd8a6ab
2024-12-26 11:34:21.868 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-26 11:34:21.868 [INFO] app.db.migrations - Database check completed successfully
2024-12-26 11:34:21.906 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 11:34:21.906 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 11:34:21.906 [INFO] sqlalchemy.engine.Engine - [generated in 0.00011s] ()
2024-12-26 11:34:21.907 [INFO] app.db.session - db_connected: True
2024-12-26 11:34:21.907 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 11:34:21.907 [INFO] sqlalchemy.engine.Engine - [generated in 0.00008s] ()
2024-12-26 11:34:21.907 [INFO] app.db.session - db_initialized: True
2024-12-26 11:34:21.907 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 11:34:21.907 [INFO] sqlalchemy.engine.Engine - [generated in 0.00007s] ()
2024-12-26 11:34:21.907 [INFO] app.db.session - Database version: 68664dd8a6ab
2024-12-26 11:34:21.907 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 11:34:28.326 [INFO] app.services.auth_service - username='test' password='royzhu1225' email='roy@t.tcom' preferences=UserPreferences(language=<Language.EN: 'en'>, currency=<Currency.CAD: 'CAD'>, theme=<Theme.SUNSET: 'sunset'>) deviceInfo=DeviceInfo(deviceId='dev-device', deviceName='Development Machine', os='Development OS', model='2024 Model', deviceType='Desktop', manufacturer='Apple', ip='127.0.0.1')
2024-12-26 11:34:28.326 [INFO] app.services.auth_service - register user
2024-12-26 11:34:28.326 [INFO] app.services.auth_service - Creating user object with username=test, email=roy@t.tcom
2024-12-26 11:34:28.326 [ERROR] app.services.auth_service - User registration failed: User.set_password() missing 1 required positional argument: 'password'
2024-12-26 11:34:28.326 [ERROR] app.api.v1.endpoints.auth - User registration failed: User.set_password() missing 1 required positional argument: 'password'
2024-12-26 11:37:08.320 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 11:37:08.321 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 11:37:08.321 [INFO] sqlalchemy.engine.Engine - [cached since 166.4s ago] ()
2024-12-26 11:37:08.321 [INFO] app.db.session - db_connected: True
2024-12-26 11:37:08.321 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 11:37:08.321 [INFO] sqlalchemy.engine.Engine - [cached since 166.4s ago] ()
2024-12-26 11:37:08.321 [INFO] app.db.session - db_initialized: True
2024-12-26 11:37:08.321 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 11:37:08.322 [INFO] sqlalchemy.engine.Engine - [cached since 166.4s ago] ()
2024-12-26 11:37:08.322 [INFO] app.db.session - Database version: 68664dd8a6ab
2024-12-26 11:37:08.322 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 11:37:09.074 [INFO] __main__ - Logger initialized in development mode
2024-12-26 11:37:09.074 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 11:37:09.074 [INFO] __main__ - Starting application initialization...
2024-12-26 11:37:09.074 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 11:37:09.074 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 11:37:09.075 [INFO] __main__ - Logger initialized in development mode
2024-12-26 11:37:09.075 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 11:37:09.078 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 11:37:09.080 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 11:37:09.088 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 11:37:09.088 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 11:37:09.089 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 11:37:09.090 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 11:37:09.090 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 11:37:09.090 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 11:37:09.090 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 11:37:09.090 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 11:37:09.091 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 11:37:09.091 [INFO] sqlalchemy.engine.Engine - [generated in 0.00012s] ()
2024-12-26 11:37:09.092 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 11:37:09.092 [INFO] app.db.migrations - Current database revision: 68664dd8a6ab
2024-12-26 11:37:09.092 [INFO] app.db.migrations - Target head revision: 68664dd8a6ab
2024-12-26 11:37:09.092 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-26 11:37:09.092 [INFO] app.db.migrations - Database check completed successfully
2024-12-26 11:37:24.334 [INFO] __main__ - 接收到终止信号，正在清理资源...
2024-12-26 11:37:24.334 [ERROR] __main__ - 关闭数据库连接时发生错误: 'State' object has no attribute 'engine'
2024-12-26 11:37:30.267 [INFO] __main__ - Logger initialized in development mode
2024-12-26 11:37:30.267 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 11:37:30.267 [INFO] __main__ - Starting application initialization...
2024-12-26 11:37:30.267 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 11:37:30.267 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 11:37:30.267 [INFO] __main__ - Logger initialized in development mode
2024-12-26 11:37:30.267 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 11:37:30.270 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 11:37:30.271 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 11:37:30.276 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 11:37:30.277 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 11:37:30.277 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 11:37:30.278 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 11:37:30.278 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 11:37:30.278 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 11:37:30.278 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 11:37:30.278 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 11:37:30.279 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 11:37:30.279 [INFO] sqlalchemy.engine.Engine - [generated in 0.00010s] ()
2024-12-26 11:37:30.279 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 11:37:30.279 [INFO] app.db.migrations - Current database revision: 68664dd8a6ab
2024-12-26 11:37:30.279 [INFO] app.db.migrations - Target head revision: 68664dd8a6ab
2024-12-26 11:37:30.279 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-26 11:37:30.279 [INFO] app.db.migrations - Database check completed successfully
2024-12-26 11:37:30.334 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 11:37:30.335 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 11:37:30.335 [INFO] sqlalchemy.engine.Engine - [generated in 0.00017s] ()
2024-12-26 11:37:30.335 [INFO] app.db.session - db_connected: True
2024-12-26 11:37:30.335 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 11:37:30.335 [INFO] sqlalchemy.engine.Engine - [generated in 0.00008s] ()
2024-12-26 11:37:30.335 [INFO] app.db.session - db_initialized: True
2024-12-26 11:37:30.335 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 11:37:30.335 [INFO] sqlalchemy.engine.Engine - [generated in 0.00006s] ()
2024-12-26 11:37:30.335 [INFO] app.db.session - Database version: 68664dd8a6ab
2024-12-26 11:37:30.335 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 11:37:36.382 [INFO] app.services.auth_service - username='test' password='royzhu1225' email='roy@t.tcom' preferences=UserPreferences(language=<Language.EN: 'en'>, currency=<Currency.CAD: 'CAD'>, theme=<Theme.SUNSET: 'sunset'>) deviceInfo=DeviceInfo(deviceId='dev-device', deviceName='Development Machine', os='Development OS', model='2024 Model', deviceType='Desktop', manufacturer='Apple', ip='127.0.0.1')
2024-12-26 11:37:36.383 [INFO] app.services.auth_service - register user
2024-12-26 11:37:36.383 [INFO] app.services.auth_service - Creating user object with username=test, email=roy@t.tcom,password=royzhu1225
2024-12-26 11:37:36.383 [ERROR] app.services.auth_service - User registration failed: User.set_password() missing 1 required positional argument: 'password'
2024-12-26 11:37:36.383 [ERROR] app.api.v1.endpoints.auth - User registration failed: User.set_password() missing 1 required positional argument: 'password'
2024-12-26 11:37:56.868 [INFO] __main__ - 接收到终止信号，正在清理资源...
2024-12-26 11:37:56.868 [ERROR] __main__ - 关闭数据库连接时发生错误: 'State' object has no attribute 'engine'
2024-12-26 11:38:40.755 [INFO] __main__ - Logger initialized in development mode
2024-12-26 11:38:40.755 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 11:38:40.755 [INFO] __main__ - Starting application initialization...
2024-12-26 11:38:40.755 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 11:38:40.755 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 11:38:40.755 [INFO] __main__ - Logger initialized in development mode
2024-12-26 11:38:40.755 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 11:38:40.758 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 11:38:40.759 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 11:38:40.765 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 11:38:40.765 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 11:38:40.765 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 11:38:40.766 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 11:38:40.766 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 11:38:40.766 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 11:38:40.767 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 11:38:40.767 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 11:38:40.767 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 11:38:40.767 [INFO] sqlalchemy.engine.Engine - [generated in 0.00008s] ()
2024-12-26 11:38:40.768 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 11:38:40.768 [INFO] app.db.migrations - Current database revision: 68664dd8a6ab
2024-12-26 11:38:40.768 [INFO] app.db.migrations - Target head revision: 68664dd8a6ab
2024-12-26 11:38:40.768 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-26 11:38:40.768 [INFO] app.db.migrations - Database check completed successfully
2024-12-26 11:38:40.838 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 11:38:40.839 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 11:38:40.839 [INFO] sqlalchemy.engine.Engine - [generated in 0.00015s] ()
2024-12-26 11:38:40.839 [INFO] app.db.session - db_connected: True
2024-12-26 11:38:40.839 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 11:38:40.839 [INFO] sqlalchemy.engine.Engine - [generated in 0.00010s] ()
2024-12-26 11:38:40.840 [INFO] app.db.session - db_initialized: True
2024-12-26 11:38:40.840 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 11:38:40.840 [INFO] sqlalchemy.engine.Engine - [generated in 0.00007s] ()
2024-12-26 11:38:40.840 [INFO] app.db.session - Database version: 68664dd8a6ab
2024-12-26 11:38:40.840 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 11:38:45.078 [INFO] app.services.auth_service - username='test' password='royzhu1225' email='roy@t.tcom' preferences=UserPreferences(language=<Language.EN: 'en'>, currency=<Currency.CAD: 'CAD'>, theme=<Theme.SUNSET: 'sunset'>) deviceInfo=DeviceInfo(deviceId='dev-device', deviceName='Development Machine', os='Development OS', model='2024 Model', deviceType='Desktop', manufacturer='Apple', ip='127.0.0.1')
2024-12-26 11:38:45.078 [INFO] app.services.auth_service - register user
2024-12-26 11:38:45.078 [INFO] app.services.auth_service - Creating user object with username=test, email=roy@t.tcom,password=royzhu1225
2024-12-26 11:38:45.090 [ERROR] app.services.auth_service - Error creating user object: too many values to unpack (expected 2)
2024-12-26 11:38:45.090 [ERROR] app.services.auth_service - User registration failed: too many values to unpack (expected 2)
2024-12-26 11:38:45.090 [ERROR] app.api.v1.endpoints.auth - User registration failed: too many values to unpack (expected 2)
2024-12-26 11:45:07.599 [INFO] __main__ - 接收到终止信号，正在清理资源...
2024-12-26 11:45:07.600 [ERROR] __main__ - 关闭数据库连接时发生错误: 'State' object has no attribute 'engine'
2024-12-26 11:45:24.056 [INFO] __main__ - Logger initialized in development mode
2024-12-26 11:45:24.056 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 11:45:24.056 [INFO] __main__ - Starting application initialization...
2024-12-26 11:45:24.056 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 11:45:24.056 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 11:45:24.056 [INFO] __main__ - Logger initialized in development mode
2024-12-26 11:45:24.057 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 11:45:24.059 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 11:45:24.061 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 11:45:24.069 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 11:45:24.069 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 11:45:24.070 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 11:45:24.071 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 11:45:24.071 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 11:45:24.071 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 11:45:24.071 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 11:45:24.071 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 11:45:24.072 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 11:45:24.072 [INFO] sqlalchemy.engine.Engine - [generated in 0.00011s] ()
2024-12-26 11:45:24.072 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 11:45:24.073 [INFO] app.db.migrations - Current database revision: 68664dd8a6ab
2024-12-26 11:45:24.073 [INFO] app.db.migrations - Target head revision: 68664dd8a6ab
2024-12-26 11:45:24.073 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-26 11:45:24.073 [INFO] app.db.migrations - Database check completed successfully
2024-12-26 11:45:24.194 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 11:45:24.194 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 11:45:24.194 [INFO] sqlalchemy.engine.Engine - [generated in 0.00013s] ()
2024-12-26 11:45:24.194 [INFO] app.db.session - db_connected: True
2024-12-26 11:45:24.194 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 11:45:24.195 [INFO] sqlalchemy.engine.Engine - [generated in 0.00008s] ()
2024-12-26 11:45:24.195 [INFO] app.db.session - db_initialized: True
2024-12-26 11:45:24.195 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 11:45:24.195 [INFO] sqlalchemy.engine.Engine - [generated in 0.00008s] ()
2024-12-26 11:45:24.195 [INFO] app.db.session - Database version: 68664dd8a6ab
2024-12-26 11:45:24.195 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 11:45:29.083 [INFO] app.services.auth_service - username='test' password='royzhu1225' email='roy@t.tcom' preferences=UserPreferences(language=<Language.EN: 'en'>, currency=<Currency.CAD: 'CAD'>, theme=<Theme.SUNSET: 'sunset'>) deviceInfo=DeviceInfo(deviceId='dev-device', deviceName='Development Machine', os='Development OS', model='2024 Model', deviceType='Desktop', manufacturer='Apple', ip='127.0.0.1')
2024-12-26 11:45:29.084 [INFO] app.services.auth_service - register user
2024-12-26 11:45:29.084 [INFO] app.services.auth_service - Creating user object with username=test, email=roy@t.tcom,password=royzhu1225
2024-12-26 11:45:29.097 [ERROR] app.services.auth_service - Error creating user object: too many values to unpack (expected 2)
2024-12-26 11:45:29.097 [ERROR] app.services.auth_service - User registration failed: too many values to unpack (expected 2)
2024-12-26 11:45:29.097 [ERROR] app.api.v1.endpoints.auth - User registration failed: too many values to unpack (expected 2)
2024-12-26 11:47:54.451 [INFO] __main__ - 接收到终止信号，正在清理资源...
2024-12-26 11:47:54.451 [ERROR] __main__ - 关闭数据库连接时发生错误: 'State' object has no attribute 'engine'
2024-12-26 11:47:57.711 [INFO] __main__ - Logger initialized in development mode
2024-12-26 11:47:57.711 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 11:47:57.711 [INFO] __main__ - Starting application initialization...
2024-12-26 11:47:57.711 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 11:47:57.711 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 11:47:57.712 [INFO] __main__ - Logger initialized in development mode
2024-12-26 11:47:57.712 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 11:47:57.715 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 11:47:57.716 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 11:47:57.724 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 11:47:57.724 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 11:47:57.724 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 11:47:57.726 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 11:47:57.726 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 11:47:57.726 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 11:47:57.726 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 11:47:57.726 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 11:47:57.727 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 11:47:57.727 [INFO] sqlalchemy.engine.Engine - [generated in 0.00011s] ()
2024-12-26 11:47:57.727 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 11:47:57.727 [INFO] app.db.migrations - Current database revision: 68664dd8a6ab
2024-12-26 11:47:57.727 [INFO] app.db.migrations - Target head revision: 68664dd8a6ab
2024-12-26 11:47:57.727 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-26 11:47:57.727 [INFO] app.db.migrations - Database check completed successfully
2024-12-26 11:47:57.771 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 11:47:57.771 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 11:47:57.772 [INFO] sqlalchemy.engine.Engine - [generated in 0.00008s] ()
2024-12-26 11:47:57.772 [INFO] app.db.session - db_connected: True
2024-12-26 11:47:57.772 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 11:47:57.772 [INFO] sqlalchemy.engine.Engine - [generated in 0.00006s] ()
2024-12-26 11:47:57.772 [INFO] app.db.session - db_initialized: True
2024-12-26 11:47:57.772 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 11:47:57.772 [INFO] sqlalchemy.engine.Engine - [generated in 0.00006s] ()
2024-12-26 11:47:57.772 [INFO] app.db.session - Database version: 68664dd8a6ab
2024-12-26 11:47:57.772 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 11:48:02.094 [INFO] app.services.auth_service - username='test' password='royzhu1225' email='roy@t.tcom' preferences=UserPreferences(language=<Language.EN: 'en'>, currency=<Currency.CAD: 'CAD'>, theme=<Theme.SUNSET: 'sunset'>) deviceInfo=DeviceInfo(deviceId='dev-device', deviceName='Development Machine', os='Development OS', model='2024 Model', deviceType='Desktop', manufacturer='Apple', ip='127.0.0.1')
2024-12-26 11:48:02.095 [INFO] app.services.auth_service - register user
2024-12-26 11:48:02.095 [INFO] app.services.auth_service - Creating user object with username=test, email=roy@t.tcom,password=royzhu1225
2024-12-26 11:48:02.107 [ERROR] app.services.auth_service - Error creating user object: too many values to unpack (expected 2)
2024-12-26 11:48:02.107 [ERROR] app.services.auth_service - User registration failed: too many values to unpack (expected 2)
2024-12-26 11:48:02.107 [ERROR] app.api.v1.endpoints.auth - User registration failed: too many values to unpack (expected 2)
2024-12-26 15:59:01.270 [INFO] __main__ - 接收到终止信号，正在清理资源...
2024-12-26 15:59:01.271 [ERROR] __main__ - 关闭数据库连接时发生错误: 'State' object has no attribute 'engine'
2024-12-26 16:32:56.465 [INFO] __main__ - Logger initialized in development mode
2024-12-26 16:32:56.465 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 16:32:56.465 [INFO] __main__ - Starting application initialization...
2024-12-26 16:32:56.465 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 16:32:56.465 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 16:32:56.466 [INFO] __main__ - Logger initialized in development mode
2024-12-26 16:32:56.466 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 16:32:56.469 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 16:32:56.471 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 16:32:56.479 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 16:32:56.479 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 16:32:56.480 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 16:32:56.487 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 16:32:56.487 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 16:32:56.487 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 16:32:56.487 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 16:32:56.487 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 16:32:56.490 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 16:32:56.490 [INFO] sqlalchemy.engine.Engine - [generated in 0.00011s] ()
2024-12-26 16:32:56.490 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 16:32:56.490 [INFO] app.db.migrations - Current database revision: 68664dd8a6ab
2024-12-26 16:32:56.490 [INFO] app.db.migrations - Target head revision: 8c96f0a11496
2024-12-26 16:32:56.490 [INFO] app.db.migrations - Database needs upgrade, running migration...
2024-12-26 16:52:49.143 [INFO] __main__ - Logger initialized in development mode
2024-12-26 16:52:49.143 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 16:52:49.143 [INFO] __main__ - Starting application initialization...
2024-12-26 16:52:49.143 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 16:52:49.143 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 16:52:49.143 [INFO] __main__ - Logger initialized in development mode
2024-12-26 16:52:49.143 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 16:52:49.147 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 16:52:49.149 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 16:52:49.158 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 16:52:49.158 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 16:52:49.158 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 16:52:49.160 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 16:52:49.160 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 16:52:49.160 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 16:52:49.160 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 16:52:49.160 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 16:52:49.161 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 16:52:49.161 [INFO] sqlalchemy.engine.Engine - [generated in 0.00011s] ()
2024-12-26 16:52:49.161 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 16:52:49.161 [INFO] app.db.migrations - Current database revision: 8c96f0a11496
2024-12-26 16:52:49.161 [INFO] app.db.migrations - Target head revision: 8c96f0a11496
2024-12-26 16:52:49.161 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-26 16:52:49.162 [INFO] app.db.migrations - Database check completed successfully
2024-12-26 16:52:49.265 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 16:52:49.266 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 16:52:49.266 [INFO] sqlalchemy.engine.Engine - [generated in 0.00009s] ()
2024-12-26 16:52:49.266 [INFO] app.db.session - db_connected: True
2024-12-26 16:52:49.266 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 16:52:49.266 [INFO] sqlalchemy.engine.Engine - [generated in 0.00011s] ()
2024-12-26 16:52:49.266 [INFO] app.db.session - db_initialized: True
2024-12-26 16:52:49.267 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 16:52:49.267 [INFO] sqlalchemy.engine.Engine - [generated in 0.00007s] ()
2024-12-26 16:52:49.267 [INFO] app.db.session - Database version: 8c96f0a11496
2024-12-26 16:52:49.267 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 16:52:56.149 [INFO] app.services.auth_service - username='test' password='royzhu1225' email='roy@t.tcom' preferences=UserPreferences(language=<Language.EN: 'en'>, currency=<Currency.CAD: 'CAD'>, theme=<Theme.SUNSET: 'sunset'>) deviceInfo=DeviceInfo(deviceId='dev-device', deviceName='Development Machine', os='Development OS', model='2024 Model', deviceType='Desktop', manufacturer='Apple', ip='127.0.0.1')
2024-12-26 16:52:56.150 [INFO] app.services.auth_service - register user
2024-12-26 16:52:56.151 [INFO] app.services.auth_service - Creating user object with username=test, email=roy@t.tcom,password=royzhu1225
2024-12-26 16:52:56.165 [INFO] app.services.auth_service - User object created successfully
2024-12-26 16:52:56.165 [INFO] app.services.auth_service - end create user settings
2024-12-26 16:52:56.165 [INFO] app.services.auth_service - start create access token
2024-12-26 16:52:56.165 [INFO] app.services.auth_service - end create access token
2024-12-26 16:52:56.165 [INFO] app.services.auth_service - start create refresh token
2024-12-26 16:52:56.165 [INFO] app.services.auth_service - end create refresh token
2024-12-26 16:52:56.165 [INFO] app.services.auth_service - start get access token expires
2024-12-26 16:52:56.165 [INFO] app.services.auth_service - end get access token expires
2024-12-26 16:52:56.165 [INFO] app.services.auth_service - start create user session
2024-12-26 16:52:56.165 [ERROR] app.services.auth_service - User registration failed: 'DeviceInfo' object has no attribute 'type'
2024-12-26 16:52:56.166 [ERROR] app.api.v1.endpoints.auth - User registration failed: 'DeviceInfo' object has no attribute 'type'
2024-12-26 16:56:45.741 [INFO] __main__ - 接收到终止信号，正在清理资源...
2024-12-26 16:56:45.741 [ERROR] __main__ - 关闭数据库连接时发生错误: 'State' object has no attribute 'engine'
2024-12-26 16:56:53.162 [INFO] __main__ - Logger initialized in development mode
2024-12-26 16:56:53.162 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 16:56:53.162 [INFO] __main__ - Starting application initialization...
2024-12-26 16:56:53.162 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 16:56:53.162 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 16:56:53.162 [INFO] __main__ - Logger initialized in development mode
2024-12-26 16:56:53.162 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 16:56:53.165 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 16:56:53.167 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 16:56:53.174 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 16:56:53.174 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 16:56:53.175 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 16:56:53.176 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 16:56:53.176 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 16:56:53.176 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 16:56:53.176 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 16:56:53.176 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 16:56:53.177 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 16:56:53.178 [INFO] sqlalchemy.engine.Engine - [generated in 0.00009s] ()
2024-12-26 16:56:53.178 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 16:56:53.178 [INFO] app.db.migrations - Current database revision: 8c96f0a11496
2024-12-26 16:56:53.178 [INFO] app.db.migrations - Target head revision: 8c96f0a11496
2024-12-26 16:56:53.178 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-26 16:56:53.178 [INFO] app.db.migrations - Database check completed successfully
2024-12-26 16:56:53.196 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 16:56:53.197 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 16:56:53.197 [INFO] sqlalchemy.engine.Engine - [generated in 0.00009s] ()
2024-12-26 16:56:53.197 [INFO] app.db.session - db_connected: True
2024-12-26 16:56:53.197 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 16:56:53.197 [INFO] sqlalchemy.engine.Engine - [generated in 0.00008s] ()
2024-12-26 16:56:53.197 [INFO] app.db.session - db_initialized: True
2024-12-26 16:56:53.197 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 16:56:53.198 [INFO] sqlalchemy.engine.Engine - [generated in 0.00008s] ()
2024-12-26 16:56:53.198 [INFO] app.db.session - Database version: 8c96f0a11496
2024-12-26 16:56:53.198 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 16:57:00.064 [INFO] app.services.auth_service - Creating user object with username=test, email=roy@t.tcom,password=royzhu1225
2024-12-26 16:57:00.080 [DEBUG] passlib.handlers.bcrypt - bcrypt 'builtin' backend not enabled via $PASSLIB_BUILTIN_BCRYPT
2024-12-26 16:57:00.080 [ERROR] app.services.auth_service - User registration failed: bcrypt: no backends available -- recommend you install one (e.g. 'pip install bcrypt')
2024-12-26 16:57:00.080 [ERROR] app.api.v1.endpoints.auth - User registration failed: bcrypt: no backends available -- recommend you install one (e.g. 'pip install bcrypt')
2024-12-26 17:05:37.488 [INFO] __main__ - 接收到终止信号，正在清理资源...
2024-12-26 17:05:37.488 [ERROR] __main__ - 关闭数据库连接时发生错误: 'State' object has no attribute 'engine'
2024-12-26 17:05:40.116 [INFO] __main__ - Logger initialized in development mode
2024-12-26 17:05:40.116 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 17:05:40.116 [INFO] __main__ - Starting application initialization...
2024-12-26 17:05:40.116 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 17:05:40.116 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 17:05:40.116 [INFO] __main__ - Logger initialized in development mode
2024-12-26 17:05:40.116 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 17:05:40.120 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 17:05:40.121 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 17:05:40.129 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 17:05:40.129 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 17:05:40.130 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 17:05:40.132 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 17:05:40.132 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 17:05:40.132 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 17:05:40.132 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 17:05:40.132 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 17:05:40.133 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 17:05:40.133 [INFO] sqlalchemy.engine.Engine - [generated in 0.00009s] ()
2024-12-26 17:05:40.133 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 17:05:40.133 [INFO] app.db.migrations - Current database revision: 8c96f0a11496
2024-12-26 17:05:40.133 [INFO] app.db.migrations - Target head revision: 8c96f0a11496
2024-12-26 17:05:40.133 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-26 17:05:40.133 [INFO] app.db.migrations - Database check completed successfully
2024-12-26 17:05:40.242 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 17:05:40.242 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 17:05:40.242 [INFO] sqlalchemy.engine.Engine - [generated in 0.00021s] ()
2024-12-26 17:05:40.242 [INFO] app.db.session - db_connected: True
2024-12-26 17:05:40.242 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 17:05:40.243 [INFO] sqlalchemy.engine.Engine - [generated in 0.00015s] ()
2024-12-26 17:05:40.243 [INFO] app.db.session - db_initialized: True
2024-12-26 17:05:40.243 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 17:05:40.243 [INFO] sqlalchemy.engine.Engine - [generated in 0.00009s] ()
2024-12-26 17:05:40.243 [INFO] app.db.session - Database version: 8c96f0a11496
2024-12-26 17:05:40.243 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 17:05:46.196 [INFO] app.services.auth_service - Creating user object with username=test, email=roy@t.tcom,password=royzhu1225
2024-12-26 17:05:46.437 [INFO] app.services.auth_service - start create user settings
2024-12-26 17:05:46.438 [INFO] app.services.auth_service - end create user session
2024-12-26 17:05:46.438 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 17:05:46.439 [INFO] sqlalchemy.engine.Engine - INSERT INTO user (username, password_hash, nickname, email, avatar_path, account_status, last_login_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-26 17:05:46.439 [INFO] sqlalchemy.engine.Engine - [generated in 0.00019s] ('test', '$5$rounds=535000$uZPv4dd1VvxkMcG7$y8o5ZJ1dQZOBEaveH7UAkCgAAQ2vfHSyB7Oaym/tfk0', None, 'roy@t.tcom', None, 'ACTIVE', None, 'f72b6cc2-9c18-4f3c-952d-13ade6e8c8c8', '2024-12-26 22:05:46.439509', '2024-12-26 22:05:46.439510')
2024-12-26 17:05:46.442 [INFO] sqlalchemy.engine.Engine - INSERT INTO user_session (user_id, device_id, device_name, device_type, os, model, manufacturer, ip, token, token_expires_at, last_active_at, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-26 17:05:46.442 [INFO] sqlalchemy.engine.Engine - [generated in 0.00013s] (None, 'dev-device', 'Development Machine', 'Desktop', 'Development OS', '2024 Model', 'Apple', '127.0.0.1', b'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJOb25lIiwiaWF0IjoxNzM1MjUwNzQ2LCJleHAiOjE3MzU4NTU1NDYsInR5cGUiOiJhY2Nlc3MifQ.knTgZdLIczovPAogIKzb7AKWVh8FNi7jrM0h0U0qerE', '2025-01-02 22:05:46.438029', '2024-12-26 22:05:46.438039', 1, '3f0be489-de8c-4bc7-92ce-6b9a337101a7', '2024-12-26 22:05:46.442016', '2024-12-26 22:05:46.442017')
2024-12-26 17:05:46.442 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 17:05:46.442 [ERROR] app.services.auth_service - User registration failed: (sqlite3.IntegrityError) NOT NULL constraint failed: user_session.user_id
[SQL: INSERT INTO user_session (user_id, device_id, device_name, device_type, os, model, manufacturer, ip, token, token_expires_at, last_active_at, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: (None, 'dev-device', 'Development Machine', 'Desktop', 'Development OS', '2024 Model', 'Apple', '127.0.0.1', b'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJOb25lIiwiaWF0IjoxNzM1MjUwNzQ2LCJleHAiOjE3MzU4NTU1NDYsInR5cGUiOiJhY2Nlc3MifQ.knTgZdLIczovPAogIKzb7AKWVh8FNi7jrM0h0U0qerE', '2025-01-02 22:05:46.438029', '2024-12-26 22:05:46.438039', 1, '3f0be489-de8c-4bc7-92ce-6b9a337101a7', '2024-12-26 22:05:46.442016', '2024-12-26 22:05:46.442017')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-12-26 17:05:46.442 [ERROR] app.api.v1.endpoints.auth - User registration failed: (sqlite3.IntegrityError) NOT NULL constraint failed: user_session.user_id
[SQL: INSERT INTO user_session (user_id, device_id, device_name, device_type, os, model, manufacturer, ip, token, token_expires_at, last_active_at, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: (None, 'dev-device', 'Development Machine', 'Desktop', 'Development OS', '2024 Model', 'Apple', '127.0.0.1', b'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJOb25lIiwiaWF0IjoxNzM1MjUwNzQ2LCJleHAiOjE3MzU4NTU1NDYsInR5cGUiOiJhY2Nlc3MifQ.knTgZdLIczovPAogIKzb7AKWVh8FNi7jrM0h0U0qerE', '2025-01-02 22:05:46.438029', '2024-12-26 22:05:46.438039', 1, '3f0be489-de8c-4bc7-92ce-6b9a337101a7', '2024-12-26 22:05:46.442016', '2024-12-26 22:05:46.442017')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-12-26 17:11:56.359 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 17:11:56.360 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 17:11:56.360 [INFO] sqlalchemy.engine.Engine - [cached since 376.1s ago] ()
2024-12-26 17:11:56.360 [INFO] app.db.session - db_connected: True
2024-12-26 17:11:56.360 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 17:11:56.360 [INFO] sqlalchemy.engine.Engine - [cached since 376.1s ago] ()
2024-12-26 17:11:56.361 [INFO] app.db.session - db_initialized: True
2024-12-26 17:11:56.361 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 17:11:56.361 [INFO] sqlalchemy.engine.Engine - [cached since 376.1s ago] ()
2024-12-26 17:11:56.361 [INFO] app.db.session - Database version: 8c96f0a11496
2024-12-26 17:11:56.361 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 17:11:57.172 [INFO] __main__ - Logger initialized in development mode
2024-12-26 17:11:57.172 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 17:11:57.172 [INFO] __main__ - Starting application initialization...
2024-12-26 17:11:57.172 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 17:11:57.172 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 17:11:57.173 [INFO] __main__ - Logger initialized in development mode
2024-12-26 17:11:57.173 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 17:11:57.176 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 17:11:57.178 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 17:11:57.186 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 17:11:57.186 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 17:11:57.186 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 17:11:57.188 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 17:11:57.188 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 17:11:57.188 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 17:11:57.188 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 17:11:57.188 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 17:11:57.189 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 17:11:57.189 [INFO] sqlalchemy.engine.Engine - [generated in 0.00010s] ()
2024-12-26 17:11:57.189 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 17:11:57.189 [INFO] app.db.migrations - Current database revision: 8c96f0a11496
2024-12-26 17:11:57.189 [INFO] app.db.migrations - Target head revision: 8c96f0a11496
2024-12-26 17:11:57.189 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-26 17:11:57.189 [INFO] app.db.migrations - Database check completed successfully
2024-12-26 17:12:30.893 [INFO] __main__ - 接收到终止信号，正在清理资源...
2024-12-26 17:12:30.893 [ERROR] __main__ - 关闭数据库连接时发生错误: 'State' object has no attribute 'engine'
2024-12-26 17:12:35.885 [INFO] __main__ - Logger initialized in development mode
2024-12-26 17:12:35.886 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 17:12:35.886 [INFO] __main__ - Starting application initialization...
2024-12-26 17:12:35.886 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 17:12:35.886 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 17:12:35.887 [INFO] __main__ - Logger initialized in development mode
2024-12-26 17:12:35.887 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 17:12:35.890 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 17:12:35.890 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 17:12:35.896 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 17:12:35.896 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 17:12:35.897 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 17:12:35.898 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 17:12:35.898 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 17:12:35.898 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 17:12:35.898 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 17:12:35.898 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 17:12:35.899 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 17:12:35.899 [INFO] sqlalchemy.engine.Engine - [generated in 0.00010s] ()
2024-12-26 17:12:35.899 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 17:12:35.899 [INFO] app.db.migrations - Current database revision: 8c96f0a11496
2024-12-26 17:12:35.899 [INFO] app.db.migrations - Target head revision: 8c96f0a11496
2024-12-26 17:12:35.899 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-26 17:12:35.899 [INFO] app.db.migrations - Database check completed successfully
2024-12-26 17:12:35.967 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 17:12:35.967 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 17:12:35.967 [INFO] sqlalchemy.engine.Engine - [generated in 0.00017s] ()
2024-12-26 17:12:35.967 [INFO] app.db.session - db_connected: True
2024-12-26 17:12:35.967 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 17:12:35.967 [INFO] sqlalchemy.engine.Engine - [generated in 0.00006s] ()
2024-12-26 17:12:35.968 [INFO] app.db.session - db_initialized: True
2024-12-26 17:12:35.968 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 17:12:35.968 [INFO] sqlalchemy.engine.Engine - [generated in 0.00006s] ()
2024-12-26 17:12:35.968 [INFO] app.db.session - Database version: 8c96f0a11496
2024-12-26 17:12:35.968 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 17:13:13.942 [INFO] __main__ - 接收到终止信号，正在清理资源...
2024-12-26 17:13:13.943 [ERROR] __main__ - 关闭数据库连接时发生错误: 'State' object has no attribute 'engine'
2024-12-26 17:13:18.275 [INFO] __main__ - Logger initialized in development mode
2024-12-26 17:13:18.275 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 17:13:18.275 [INFO] __main__ - Starting application initialization...
2024-12-26 17:13:18.275 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 17:13:18.275 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 17:13:18.276 [INFO] __main__ - Logger initialized in development mode
2024-12-26 17:13:18.276 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 17:13:18.279 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 17:13:18.280 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 17:13:18.289 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 17:13:18.289 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 17:13:18.289 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 17:13:18.291 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 17:13:18.291 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 17:13:18.291 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 17:13:18.291 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 17:13:18.291 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 17:13:18.292 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 17:13:18.292 [INFO] sqlalchemy.engine.Engine - [generated in 0.00008s] ()
2024-12-26 17:13:18.292 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 17:13:18.292 [INFO] app.db.migrations - Current database revision: 8c96f0a11496
2024-12-26 17:13:18.292 [INFO] app.db.migrations - Target head revision: 8c96f0a11496
2024-12-26 17:13:18.292 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-26 17:13:18.292 [INFO] app.db.migrations - Database check completed successfully
2024-12-26 17:13:18.374 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 17:13:18.374 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 17:13:18.374 [INFO] sqlalchemy.engine.Engine - [generated in 0.00025s] ()
2024-12-26 17:13:18.375 [INFO] app.db.session - db_connected: True
2024-12-26 17:13:18.375 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 17:13:18.375 [INFO] sqlalchemy.engine.Engine - [generated in 0.00007s] ()
2024-12-26 17:13:18.375 [INFO] app.db.session - db_initialized: True
2024-12-26 17:13:18.375 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 17:13:18.375 [INFO] sqlalchemy.engine.Engine - [generated in 0.00007s] ()
2024-12-26 17:13:18.375 [INFO] app.db.session - Database version: 8c96f0a11496
2024-12-26 17:13:18.375 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 17:13:22.290 [INFO] app.services.auth_service - Creating user object with username=test, email=roy@t.tcom,password=royzhu1225
2024-12-26 17:13:22.529 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 17:13:22.530 [INFO] sqlalchemy.engine.Engine - INSERT INTO user (username, password_hash, nickname, email, avatar_path, account_status, last_login_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-26 17:13:22.530 [INFO] sqlalchemy.engine.Engine - [generated in 0.00019s] ('test', '$5$rounds=535000$K111gp67cfx.JA5R$TudKs7RRRn0sP1nPA3gZvmdSW.4xYIEZi9VM4FjW8JC', None, 'roy@t.tcom', None, 'ACTIVE', None, 'd98b9d63-2070-4b61-a44a-877d3c304537', '2024-12-26 22:13:22.530494', '2024-12-26 22:13:22.530499')
2024-12-26 17:13:22.532 [INFO] app.services.auth_service - start create user settings
2024-12-26 17:13:22.533 [INFO] app.services.auth_service - end create user session
2024-12-26 17:13:22.533 [INFO] sqlalchemy.engine.Engine - INSERT INTO user_session (user_id, device_id, device_name, device_type, os, model, manufacturer, ip, token, token_expires_at, last_active_at, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-26 17:13:22.534 [INFO] sqlalchemy.engine.Engine - [generated in 0.00017s] ('d98b9d63-2070-4b61-a44a-877d3c304537', 'dev-device', 'Development Machine', 'Desktop', 'Development OS', '2024 Model', 'Apple', '127.0.0.1', b'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJkOThiOWQ2My0yMDcwLTRiNjEtYTQ0YS04NzdkM2MzMDQ1MzciLCJpYXQiOjE3MzUyNTEyMDIsImV4cCI6MTczNTg1NjAwMiwidHlwZSI6ImFjY2VzcyJ9.CcoLamw5lEZPkvkpvQ_ox-Ylj3IkJkuA5vTfs1Oj22Y', '2025-01-02 22:13:22.533142', '2024-12-26 22:13:22.533145', 1, 'bf60556f-834f-4e2f-a4a2-fca28388171b', '2024-12-26 22:13:22.533919', '2024-12-26 22:13:22.533920')
2024-12-26 17:13:22.535 [INFO] sqlalchemy.engine.Engine - INSERT INTO user_settings (user_id, language, currency, theme, login_expire_days, require_password_on_launch, notification_enabled, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-26 17:13:22.535 [INFO] sqlalchemy.engine.Engine - [generated in 0.00016s] ('d98b9d63-2070-4b61-a44a-877d3c304537', 'EN', 'CAD', 'SUNSET', 7, 0, 1, '06b521d6-8fad-457f-81ef-e7df45d3518b', '2024-12-26 22:13:22.535010', '2024-12-26 22:13:22.535012')
2024-12-26 17:13:22.535 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 17:13:22.536 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 17:13:22.537 [INFO] sqlalchemy.engine.Engine - SELECT user_settings.user_id AS user_settings_user_id, user_settings.language AS user_settings_language, user_settings.currency AS user_settings_currency, user_settings.theme AS user_settings_theme, user_settings.login_expire_days AS user_settings_login_expire_days, user_settings.require_password_on_launch AS user_settings_require_password_on_launch, user_settings.notification_enabled AS user_settings_notification_enabled, user_settings.id AS user_settings_id, user_settings.created_at AS user_settings_created_at, user_settings.updated_at AS user_settings_updated_at 
FROM user_settings 
WHERE ? = user_settings.user_id
2024-12-26 17:13:22.537 [INFO] sqlalchemy.engine.Engine - [generated in 0.00011s] ('d98b9d63-2070-4b61-a44a-877d3c304537',)
2024-12-26 20:00:58.910 [INFO] __main__ - 接收到终止信号，正在清理资源...
2024-12-26 20:00:58.911 [ERROR] __main__ - 关闭数据库连接时发生错误: 'State' object has no attribute 'engine'
2024-12-26 21:26:12.826 [INFO] __main__ - Logger initialized in development mode
2024-12-26 21:26:12.826 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 21:26:12.826 [INFO] __main__ - Starting application initialization...
2024-12-26 21:26:12.826 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 21:26:12.826 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 21:26:12.826 [INFO] __main__ - Logger initialized in development mode
2024-12-26 21:26:12.826 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 21:26:12.830 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 21:26:12.831 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 21:26:12.839 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 21:26:12.839 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 21:26:12.840 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 21:26:12.843 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 21:26:12.843 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 21:26:12.843 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 21:26:12.843 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 21:26:12.843 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 21:26:12.845 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 21:26:12.845 [INFO] sqlalchemy.engine.Engine - [generated in 0.00008s] ()
2024-12-26 21:26:12.845 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 21:26:12.845 [INFO] app.db.migrations - Current database revision: 8c96f0a11496
2024-12-26 21:26:12.845 [INFO] app.db.migrations - Target head revision: 8c96f0a11496
2024-12-26 21:26:12.845 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-26 21:26:12.845 [INFO] app.db.migrations - Database check completed successfully
2024-12-26 21:26:12.890 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 21:26:12.890 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 21:26:12.890 [INFO] sqlalchemy.engine.Engine - [generated in 0.00008s] ()
2024-12-26 21:26:12.890 [INFO] app.db.session - db_connected: True
2024-12-26 21:26:12.890 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 21:26:12.890 [INFO] sqlalchemy.engine.Engine - [generated in 0.00006s] ()
2024-12-26 21:26:12.891 [INFO] app.db.session - db_initialized: True
2024-12-26 21:26:12.891 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 21:26:12.891 [INFO] sqlalchemy.engine.Engine - [generated in 0.00010s] ()
2024-12-26 21:26:12.891 [INFO] app.db.session - Database version: 8c96f0a11496
2024-12-26 21:26:12.891 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 23:53:57.015 [INFO] __main__ - 接收到终止信号，正在清理资源...
2024-12-26 23:53:57.015 [ERROR] __main__ - 关闭数据库连接时发生错误: 'State' object has no attribute 'engine'
2024-12-26 23:54:00.300 [INFO] __main__ - Logger initialized in development mode
2024-12-26 23:54:00.300 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 23:54:00.300 [INFO] __main__ - Starting application initialization...
2024-12-26 23:54:00.300 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-26 23:54:00.300 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-26 23:54:00.300 [INFO] __main__ - Logger initialized in development mode
2024-12-26 23:54:00.300 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-26 23:54:00.304 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-26 23:54:00.305 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-26 23:54:00.313 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-26 23:54:00.313 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-26 23:54:00.314 [INFO] app.db.migrations - Starting database migration check...
2024-12-26 23:54:00.315 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-26 23:54:00.316 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-26 23:54:00.316 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 23:54:00.316 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-26 23:54:00.316 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-26 23:54:00.316 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-26 23:54:00.317 [INFO] sqlalchemy.engine.Engine - [generated in 0.00008s] ()
2024-12-26 23:54:00.317 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-26 23:54:00.317 [INFO] app.db.migrations - Current database revision: 8c96f0a11496
2024-12-26 23:54:00.317 [INFO] app.db.migrations - Target head revision: 8c96f0a11496
2024-12-26 23:54:00.317 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-26 23:54:00.317 [INFO] app.db.migrations - Database check completed successfully
2024-12-26 23:54:00.437 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 23:54:00.438 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-26 23:54:00.438 [INFO] sqlalchemy.engine.Engine - [generated in 0.00011s] ()
2024-12-26 23:54:00.438 [INFO] app.db.session - db_connected: True
2024-12-26 23:54:00.438 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-26 23:54:00.438 [INFO] sqlalchemy.engine.Engine - [generated in 0.00008s] ()
2024-12-26 23:54:00.438 [INFO] app.db.session - db_initialized: True
2024-12-26 23:54:00.438 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-26 23:54:00.438 [INFO] sqlalchemy.engine.Engine - [generated in 0.00008s] ()
2024-12-26 23:54:00.439 [INFO] app.db.session - Database version: 8c96f0a11496
2024-12-26 23:54:00.439 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 23:54:21.367 [INFO] app.services.auth_service - Creating user object with username=royzhu, email=royzhu@gmail.com,password=royzhu1225
2024-12-26 23:54:21.603 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 23:54:21.604 [INFO] sqlalchemy.engine.Engine - INSERT INTO user (username, password_hash, nickname, email, avatar_path, account_status, last_login_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-26 23:54:21.604 [INFO] sqlalchemy.engine.Engine - [generated in 0.00025s] ('royzhu', '$5$rounds=535000$cPCpWhujLOpvnWsr$NJWmV5/96kZi6fZ.uDIV1vgSUzJyFdh3G0ZZy4bUvQ/', None, 'royzhu@gmail.com', None, 'ACTIVE', None, '92e8dd43-4ea5-45c0-bfea-2e8adf984971', '2024-12-27 04:54:21.604544', '2024-12-27 04:54:21.604551')
2024-12-26 23:54:21.606 [INFO] app.services.auth_service - start create user settings
2024-12-26 23:54:21.606 [INFO] app.services.auth_service - end create user session
2024-12-26 23:54:21.607 [INFO] sqlalchemy.engine.Engine - INSERT INTO user_session (user_id, device_id, device_name, device_type, os, model, manufacturer, ip, token, token_expires_at, last_active_at, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-26 23:54:21.607 [INFO] sqlalchemy.engine.Engine - [generated in 0.00016s] ('92e8dd43-4ea5-45c0-bfea-2e8adf984971', 'dev-device', 'Development Machine', 'Desktop', 'Development OS', '2024 Model', 'Apple', '127.0.0.1', b'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI5MmU4ZGQ0My00ZWE1LTQ1YzAtYmZlYS0yZThhZGY5ODQ5NzEiLCJpYXQiOjE3MzUyNzUyNjEsImV4cCI6MTczNTg4MDA2MSwidHlwZSI6ImFjY2VzcyJ9.CX6JIQyiwDmMDJ5V1HNcgDigiqHbrjN3Vc4r9sBI77o', '2025-01-03 04:54:21.606933', '2024-12-27 04:54:21.606939', 1, '986da172-1b28-4a66-a94a-276ddbbc0086', '2024-12-27 04:54:21.607659', '2024-12-27 04:54:21.607660')
2024-12-26 23:54:21.608 [INFO] sqlalchemy.engine.Engine - INSERT INTO user_settings (user_id, language, currency, theme, login_expire_days, require_password_on_launch, notification_enabled, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-26 23:54:21.608 [INFO] sqlalchemy.engine.Engine - [generated in 0.00012s] ('92e8dd43-4ea5-45c0-bfea-2e8adf984971', 'EN', 'CAD', 'NATURAL', 7, 0, 1, '82ae0fb4-3aa4-46c0-b20f-2ceeb89b9f5b', '2024-12-27 04:54:21.608521', '2024-12-27 04:54:21.608521')
2024-12-26 23:54:21.608 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-26 23:54:21.610 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-26 23:54:21.610 [INFO] sqlalchemy.engine.Engine - SELECT user_settings.user_id AS user_settings_user_id, user_settings.language AS user_settings_language, user_settings.currency AS user_settings_currency, user_settings.theme AS user_settings_theme, user_settings.login_expire_days AS user_settings_login_expire_days, user_settings.require_password_on_launch AS user_settings_require_password_on_launch, user_settings.notification_enabled AS user_settings_notification_enabled, user_settings.id AS user_settings_id, user_settings.created_at AS user_settings_created_at, user_settings.updated_at AS user_settings_updated_at 
FROM user_settings 
WHERE ? = user_settings.user_id
2024-12-26 23:54:21.610 [INFO] sqlalchemy.engine.Engine - [generated in 0.00009s] ('92e8dd43-4ea5-45c0-bfea-2e8adf984971',)
2024-12-27 00:09:57.967 [INFO] app.services.auth_service - Creating user object with username=teste2, email=rese@t.com,password=royzhu1225
2024-12-27 00:09:58.201 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-27 00:09:58.202 [INFO] sqlalchemy.engine.Engine - INSERT INTO user (username, password_hash, nickname, email, avatar_path, account_status, last_login_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-27 00:09:58.202 [INFO] sqlalchemy.engine.Engine - [cached since 936.6s ago] ('teste2', '$5$rounds=535000$64I.nHSTofoA6Vwr$hFtApbQZgMYI9dUmVwxqXMxlQGzhe1eHH5rEjaO3DUB', None, 'rese@t.com', None, 'ACTIVE', None, '0a905908-bed2-46fc-b1c2-91af7ff0b821', '2024-12-27 05:09:58.202225', '2024-12-27 05:09:58.202228')
2024-12-27 00:09:58.203 [INFO] app.services.auth_service - start create user settings
2024-12-27 00:09:58.204 [INFO] app.services.auth_service - end create user session
2024-12-27 00:09:58.204 [INFO] sqlalchemy.engine.Engine - INSERT INTO user_session (user_id, device_id, device_name, device_type, os, model, manufacturer, ip, token, token_expires_at, last_active_at, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-27 00:09:58.204 [INFO] sqlalchemy.engine.Engine - [cached since 936.6s ago] ('0a905908-bed2-46fc-b1c2-91af7ff0b821', 'dev-device', 'Development Machine', 'Desktop', 'Development OS', '2024 Model', 'Apple', '127.0.0.1', b'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIwYTkwNTkwOC1iZWQyLTQ2ZmMtYjFjMi05MWFmN2ZmMGI4MjEiLCJpYXQiOjE3MzUyNzYxOTgsImV4cCI6MTczNTg4MDk5OCwidHlwZSI6ImFjY2VzcyJ9.MjxLQoigFbGkImLWQ8970aDTtT2skt6kQsmuVmhtocg', '2025-01-03 05:09:58.204194', '2024-12-27 05:09:58.204197', 1, 'f1190814-0a9f-4583-8fe5-9f67c794a5d1', '2024-12-27 05:09:58.204522', '2024-12-27 05:09:58.204523')
2024-12-27 00:09:58.205 [INFO] sqlalchemy.engine.Engine - INSERT INTO user_settings (user_id, language, currency, theme, login_expire_days, require_password_on_launch, notification_enabled, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-27 00:09:58.205 [INFO] sqlalchemy.engine.Engine - [cached since 936.6s ago] ('0a905908-bed2-46fc-b1c2-91af7ff0b821', 'EN', 'CAD', 'NATURAL', 7, 0, 1, 'fe9c0d91-d3a1-4221-b138-e120062f69a7', '2024-12-27 05:09:58.205087', '2024-12-27 05:09:58.205088')
2024-12-27 00:09:58.205 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-27 00:09:58.205 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-27 00:09:58.206 [INFO] sqlalchemy.engine.Engine - SELECT user_settings.user_id AS user_settings_user_id, user_settings.language AS user_settings_language, user_settings.currency AS user_settings_currency, user_settings.theme AS user_settings_theme, user_settings.login_expire_days AS user_settings_login_expire_days, user_settings.require_password_on_launch AS user_settings_require_password_on_launch, user_settings.notification_enabled AS user_settings_notification_enabled, user_settings.id AS user_settings_id, user_settings.created_at AS user_settings_created_at, user_settings.updated_at AS user_settings_updated_at 
FROM user_settings 
WHERE ? = user_settings.user_id
2024-12-27 00:09:58.206 [INFO] sqlalchemy.engine.Engine - [cached since 936.6s ago] ('0a905908-bed2-46fc-b1c2-91af7ff0b821',)
2024-12-27 00:18:44.943 [INFO] app.services.auth_service - Creating user object with username=rts2ww, email=eoys@dd.com,password=royzhu1225
2024-12-27 00:18:45.184 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-27 00:18:45.185 [INFO] sqlalchemy.engine.Engine - INSERT INTO user (username, password_hash, nickname, email, avatar_path, account_status, last_login_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-27 00:18:45.185 [INFO] sqlalchemy.engine.Engine - [cached since 1464s ago] ('rts2ww', '$5$rounds=535000$BJFpZiVIbNXIDs76$apfT4bSEr/m1s9a8GxXSkKWXXK/QWZ7WKDRW7BSQPwD', None, 'eoys@dd.com', None, 'ACTIVE', None, '0d87ed63-3221-4dfb-9e8f-7eab93fff7ef', '2024-12-27 05:18:45.185182', '2024-12-27 05:18:45.185185')
2024-12-27 00:18:45.186 [INFO] app.services.auth_service - start create user settings
2024-12-27 00:18:45.186 [INFO] app.services.auth_service - end create user session
2024-12-27 00:18:45.186 [INFO] sqlalchemy.engine.Engine - INSERT INTO user_session (user_id, device_id, device_name, device_type, os, model, manufacturer, ip, token, token_expires_at, last_active_at, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-27 00:18:45.186 [INFO] sqlalchemy.engine.Engine - [cached since 1464s ago] ('0d87ed63-3221-4dfb-9e8f-7eab93fff7ef', 'dev-device', 'Development Machine', 'Desktop', 'Development OS', '2024 Model', 'Apple', '127.0.0.1', b'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIwZDg3ZWQ2My0zMjIxLTRkZmItOWU4Zi03ZWFiOTNmZmY3ZWYiLCJpYXQiOjE3MzUyNzY3MjUsImV4cCI6MTczNTg4MTUyNSwidHlwZSI6ImFjY2VzcyJ9.PDniCljG9BcAA7ZNQc54UKLhrvgndJsW976xt1VXTPY', '2025-01-03 05:18:45.186704', '2024-12-27 05:18:45.186707', 1, '24d5d399-cedd-4c18-8a8d-f07d32a301b1', '2024-12-27 05:18:45.186900', '2024-12-27 05:18:45.186900')
2024-12-27 00:18:45.187 [INFO] sqlalchemy.engine.Engine - INSERT INTO user_settings (user_id, language, currency, theme, login_expire_days, require_password_on_launch, notification_enabled, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-27 00:18:45.187 [INFO] sqlalchemy.engine.Engine - [cached since 1464s ago] ('0d87ed63-3221-4dfb-9e8f-7eab93fff7ef', 'EN', 'CAD', 'NATURAL', 7, 0, 1, '61e09c35-ac4b-4ab4-883b-4c948df7f00f', '2024-12-27 05:18:45.187363', '2024-12-27 05:18:45.187364')
2024-12-27 00:18:45.187 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-27 00:18:45.188 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-27 00:18:45.188 [INFO] sqlalchemy.engine.Engine - SELECT user_settings.user_id AS user_settings_user_id, user_settings.language AS user_settings_language, user_settings.currency AS user_settings_currency, user_settings.theme AS user_settings_theme, user_settings.login_expire_days AS user_settings_login_expire_days, user_settings.require_password_on_launch AS user_settings_require_password_on_launch, user_settings.notification_enabled AS user_settings_notification_enabled, user_settings.id AS user_settings_id, user_settings.created_at AS user_settings_created_at, user_settings.updated_at AS user_settings_updated_at 
FROM user_settings 
WHERE ? = user_settings.user_id
2024-12-27 00:18:45.188 [INFO] sqlalchemy.engine.Engine - [cached since 1464s ago] ('0d87ed63-3221-4dfb-9e8f-7eab93fff7ef',)
2024-12-27 00:20:46.717 [INFO] app.services.auth_service - Creating user object with username=rts2ww, email=eoys@dd.com,password=royzhu1225
2024-12-27 00:20:46.950 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-27 00:20:46.950 [INFO] sqlalchemy.engine.Engine - INSERT INTO user (username, password_hash, nickname, email, avatar_path, account_status, last_login_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-27 00:20:46.950 [INFO] sqlalchemy.engine.Engine - [cached since 1585s ago] ('rts2ww', '$5$rounds=535000$qGX29cchHBjGsQdl$ah26WE6cDhLUCkJkmEVe017yMCaWZpI3BkJh7cPZYX/', None, 'eoys@dd.com', None, 'ACTIVE', None, '93dfec34-94d8-45cc-93b3-97172c65fcdc', '2024-12-27 05:20:46.950777', '2024-12-27 05:20:46.950780')
2024-12-27 00:20:46.952 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-27 00:20:46.952 [ERROR] app.services.auth_service - User registration failed: (sqlite3.IntegrityError) UNIQUE constraint failed: user.username
[SQL: INSERT INTO user (username, password_hash, nickname, email, avatar_path, account_status, last_login_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('rts2ww', '$5$rounds=535000$qGX29cchHBjGsQdl$ah26WE6cDhLUCkJkmEVe017yMCaWZpI3BkJh7cPZYX/', None, 'eoys@dd.com', None, 'ACTIVE', None, '93dfec34-94d8-45cc-93b3-97172c65fcdc', '2024-12-27 05:20:46.950777', '2024-12-27 05:20:46.950780')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-12-27 00:20:46.952 [ERROR] app.api.v1.endpoints.auth - User registration failed: (sqlite3.IntegrityError) UNIQUE constraint failed: user.username
[SQL: INSERT INTO user (username, password_hash, nickname, email, avatar_path, account_status, last_login_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('rts2ww', '$5$rounds=535000$qGX29cchHBjGsQdl$ah26WE6cDhLUCkJkmEVe017yMCaWZpI3BkJh7cPZYX/', None, 'eoys@dd.com', None, 'ACTIVE', None, '93dfec34-94d8-45cc-93b3-97172c65fcdc', '2024-12-27 05:20:46.950777', '2024-12-27 05:20:46.950780')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-12-27 00:24:12.519 [INFO] app.services.auth_service - Creating user object with username=test22, email=test22@ga.com,password=royzhu1225
2024-12-27 00:24:12.757 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-27 00:24:12.757 [INFO] sqlalchemy.engine.Engine - INSERT INTO user (username, password_hash, nickname, email, avatar_path, account_status, last_login_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-27 00:24:12.757 [INFO] sqlalchemy.engine.Engine - [cached since 1791s ago] ('test22', '$5$rounds=535000$F5rHsWpRQKaQrokc$NixFOwJY0l.XmA1UARZAjBPqIXHfkRkxJQpXZtaryF3', None, 'test22@ga.com', None, 'ACTIVE', None, '047e28d5-a335-46ba-a2f2-c45eea2433b4', '2024-12-27 05:24:12.757834', '2024-12-27 05:24:12.757838')
2024-12-27 00:24:12.759 [INFO] app.services.auth_service - start create user settings
2024-12-27 00:24:12.759 [INFO] app.services.auth_service - end create user session
2024-12-27 00:24:12.760 [INFO] sqlalchemy.engine.Engine - INSERT INTO user_session (user_id, device_id, device_name, device_type, os, model, manufacturer, ip, token, token_expires_at, last_active_at, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-27 00:24:12.760 [INFO] sqlalchemy.engine.Engine - [cached since 1791s ago] ('047e28d5-a335-46ba-a2f2-c45eea2433b4', 'dev-device', 'Development Machine', 'Desktop', 'Development OS', '2024 Model', 'Apple', '127.0.0.1', b'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIwNDdlMjhkNS1hMzM1LTQ2YmEtYTJmMi1jNDVlZWEyNDMzYjQiLCJpYXQiOjE3MzUyNzcwNTIsImV4cCI6MTczNTg4MTg1MiwidHlwZSI6ImFjY2VzcyJ9.Q2l0FplJ4Yp1sZQNsRfDjWH2DkiNJC9VH0nR0JX8-3E', '2025-01-03 05:24:12.759874', '2024-12-27 05:24:12.759878', 1, 'b2179037-0c2c-4133-a4df-95dad8157d28', '2024-12-27 05:24:12.760075', '2024-12-27 05:24:12.760076')
2024-12-27 00:24:12.760 [INFO] sqlalchemy.engine.Engine - INSERT INTO user_settings (user_id, language, currency, theme, login_expire_days, require_password_on_launch, notification_enabled, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-27 00:24:12.760 [INFO] sqlalchemy.engine.Engine - [cached since 1791s ago] ('047e28d5-a335-46ba-a2f2-c45eea2433b4', 'EN', 'CAD', 'SUNSET', 7, 0, 1, '5fa4c5a9-0c01-4d57-ac13-9377bacf0ce4', '2024-12-27 05:24:12.760752', '2024-12-27 05:24:12.760754')
2024-12-27 00:24:12.761 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-27 00:24:12.761 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-27 00:24:12.761 [INFO] sqlalchemy.engine.Engine - SELECT user_settings.user_id AS user_settings_user_id, user_settings.language AS user_settings_language, user_settings.currency AS user_settings_currency, user_settings.theme AS user_settings_theme, user_settings.login_expire_days AS user_settings_login_expire_days, user_settings.require_password_on_launch AS user_settings_require_password_on_launch, user_settings.notification_enabled AS user_settings_notification_enabled, user_settings.id AS user_settings_id, user_settings.created_at AS user_settings_created_at, user_settings.updated_at AS user_settings_updated_at 
FROM user_settings 
WHERE ? = user_settings.user_id
2024-12-27 00:24:12.761 [INFO] sqlalchemy.engine.Engine - [cached since 1791s ago] ('047e28d5-a335-46ba-a2f2-c45eea2433b4',)
2024-12-27 00:36:30.467 [INFO] app.services.auth_service - Creating user object with username=tesdb22, email=rbes@22.com,password=royzhu1225
2024-12-27 00:36:30.696 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-27 00:36:30.696 [INFO] sqlalchemy.engine.Engine - INSERT INTO user (username, password_hash, nickname, email, avatar_path, account_status, last_login_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-27 00:36:30.696 [INFO] sqlalchemy.engine.Engine - [cached since 2529s ago] ('tesdb22', '$5$rounds=535000$wtAR/EO806AE26Yb$JmKzY42SHM2RD7dSXVZmuP79NtVnoM9T6edR0D.yK39', None, 'rbes@22.com', None, 'ACTIVE', None, 'e074b527-8fc8-4efc-832c-14447dbe384f', '2024-12-27 05:36:30.696506', '2024-12-27 05:36:30.696510')
2024-12-27 00:36:30.697 [INFO] app.services.auth_service - start create user settings
2024-12-27 00:36:30.698 [INFO] app.services.auth_service - end create user session
2024-12-27 00:36:30.698 [INFO] sqlalchemy.engine.Engine - INSERT INTO user_session (user_id, device_id, device_name, device_type, os, model, manufacturer, ip, token, token_expires_at, last_active_at, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-27 00:36:30.698 [INFO] sqlalchemy.engine.Engine - [cached since 2529s ago] ('e074b527-8fc8-4efc-832c-14447dbe384f', 'dev-device', 'Development Machine', 'Desktop', 'Development OS', '2024 Model', 'Apple', '127.0.0.1', b'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJlMDc0YjUyNy04ZmM4LTRlZmMtODMyYy0xNDQ0N2RiZTM4NGYiLCJpYXQiOjE3MzUyNzc3OTAsImV4cCI6MTczNTg4MjU5MCwidHlwZSI6ImFjY2VzcyJ9.nubj91qQ9XJYUwINkaqVZ1pJiiJ_ZC474nxPXdFKq98', '2025-01-03 05:36:30.698108', '2024-12-27 05:36:30.698112', 1, '87b11730-87bf-4591-b738-687f06008228', '2024-12-27 05:36:30.698487', '2024-12-27 05:36:30.698488')
2024-12-27 00:36:30.699 [INFO] sqlalchemy.engine.Engine - INSERT INTO user_settings (user_id, language, currency, theme, login_expire_days, require_password_on_launch, notification_enabled, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-27 00:36:30.700 [INFO] sqlalchemy.engine.Engine - [cached since 2529s ago] ('e074b527-8fc8-4efc-832c-14447dbe384f', 'EN', 'CAD', 'SUNSET', 7, 0, 1, 'b2541aa8-1efe-43be-b68d-c504098e014e', '2024-12-27 05:36:30.699948', '2024-12-27 05:36:30.699950')
2024-12-27 00:36:30.700 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-27 00:36:30.700 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-27 00:36:30.701 [INFO] sqlalchemy.engine.Engine - SELECT user_settings.user_id AS user_settings_user_id, user_settings.language AS user_settings_language, user_settings.currency AS user_settings_currency, user_settings.theme AS user_settings_theme, user_settings.login_expire_days AS user_settings_login_expire_days, user_settings.require_password_on_launch AS user_settings_require_password_on_launch, user_settings.notification_enabled AS user_settings_notification_enabled, user_settings.id AS user_settings_id, user_settings.created_at AS user_settings_created_at, user_settings.updated_at AS user_settings_updated_at 
FROM user_settings 
WHERE ? = user_settings.user_id
2024-12-27 00:36:30.701 [INFO] sqlalchemy.engine.Engine - [cached since 2529s ago] ('e074b527-8fc8-4efc-832c-14447dbe384f',)
2024-12-27 00:38:56.654 [INFO] app.services.auth_service - Creating user object with username=tesdb22, email=rbes@22.com,password=royzhu1225
2024-12-27 00:38:56.882 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-27 00:38:56.882 [INFO] sqlalchemy.engine.Engine - INSERT INTO user (username, password_hash, nickname, email, avatar_path, account_status, last_login_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-27 00:38:56.883 [INFO] sqlalchemy.engine.Engine - [cached since 2675s ago] ('tesdb22', '$5$rounds=535000$i0ob1BrGrG1OycXQ$LOQXzdpDJIU02KVhj0dZjfGMn6z.akhVnFBLItyeVoC', None, 'rbes@22.com', None, 'ACTIVE', None, 'bf5f1002-bae7-439e-b3d3-1ad6dbe02aa0', '2024-12-27 05:38:56.882945', '2024-12-27 05:38:56.882948')
2024-12-27 00:38:56.883 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-27 00:38:56.883 [ERROR] app.services.auth_service - User registration failed: (sqlite3.IntegrityError) UNIQUE constraint failed: user.username
[SQL: INSERT INTO user (username, password_hash, nickname, email, avatar_path, account_status, last_login_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('tesdb22', '$5$rounds=535000$i0ob1BrGrG1OycXQ$LOQXzdpDJIU02KVhj0dZjfGMn6z.akhVnFBLItyeVoC', None, 'rbes@22.com', None, 'ACTIVE', None, 'bf5f1002-bae7-439e-b3d3-1ad6dbe02aa0', '2024-12-27 05:38:56.882945', '2024-12-27 05:38:56.882948')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-12-27 00:38:56.883 [ERROR] app.api.v1.endpoints.auth - User registration failed: (sqlite3.IntegrityError) UNIQUE constraint failed: user.username
[SQL: INSERT INTO user (username, password_hash, nickname, email, avatar_path, account_status, last_login_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('tesdb22', '$5$rounds=535000$i0ob1BrGrG1OycXQ$LOQXzdpDJIU02KVhj0dZjfGMn6z.akhVnFBLItyeVoC', None, 'rbes@22.com', None, 'ACTIVE', None, 'bf5f1002-bae7-439e-b3d3-1ad6dbe02aa0', '2024-12-27 05:38:56.882945', '2024-12-27 05:38:56.882948')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-12-30 10:21:45.072 [INFO] __main__ - Logger initialized in development mode
2024-12-30 10:21:45.072 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-30 10:21:45.072 [INFO] __main__ - Starting application initialization...
2024-12-30 10:21:45.073 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-30 10:21:45.073 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-30 10:21:45.073 [INFO] __main__ - Logger initialized in development mode
2024-12-30 10:21:45.073 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-30 10:21:45.077 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-30 10:21:45.078 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-30 10:21:45.087 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-30 10:21:45.087 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-30 10:21:45.087 [INFO] app.db.migrations - Starting database migration check...
2024-12-30 10:21:45.091 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-30 10:21:45.091 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-30 10:21:45.091 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-30 10:21:45.091 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-30 10:21:45.091 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-30 10:21:45.093 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-30 10:21:45.093 [INFO] sqlalchemy.engine.Engine - [generated in 0.00009s] ()
2024-12-30 10:21:45.093 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-30 10:21:45.093 [INFO] app.db.migrations - Current database revision: 8c96f0a11496
2024-12-30 10:21:45.093 [INFO] app.db.migrations - Target head revision: 05f202836a5b
2024-12-30 10:21:45.093 [INFO] app.db.migrations - Database needs upgrade, running migration...
2024-12-30 10:26:05.335 [INFO] __main__ - Logger initialized in development mode
2024-12-30 10:26:05.335 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-30 10:26:05.335 [INFO] __main__ - Starting application initialization...
2024-12-30 10:26:05.335 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-30 10:26:05.335 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-30 10:26:05.336 [INFO] __main__ - Logger initialized in development mode
2024-12-30 10:26:05.336 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-30 10:26:05.339 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-30 10:26:05.341 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-30 10:26:05.348 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-30 10:26:05.348 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-30 10:26:05.348 [INFO] app.db.migrations - Starting database migration check...
2024-12-30 10:26:05.352 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-30 10:26:05.352 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-30 10:26:05.352 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-30 10:26:05.352 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-30 10:26:05.352 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-30 10:26:05.354 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-30 10:26:05.354 [INFO] sqlalchemy.engine.Engine - [generated in 0.00008s] ()
2024-12-30 10:26:05.354 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-30 10:26:05.354 [INFO] app.db.migrations - Current database revision: 8c96f0a11496
2024-12-30 10:26:05.354 [INFO] app.db.migrations - Target head revision: 05f202836a5b
2024-12-30 10:26:05.354 [INFO] app.db.migrations - Database needs upgrade, running migration...
2024-12-30 10:52:13.458 [INFO] __main__ - Logger initialized in development mode
2024-12-30 10:52:13.458 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-30 10:52:13.458 [INFO] __main__ - Starting application initialization...
2024-12-30 10:52:13.458 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-30 10:52:13.459 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-30 10:52:13.459 [INFO] __main__ - Logger initialized in development mode
2024-12-30 10:52:13.459 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-30 10:52:13.463 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-30 10:52:13.464 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-30 10:52:13.472 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-30 10:52:13.472 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-30 10:52:13.472 [INFO] app.db.migrations - Starting database migration check...
2024-12-30 10:52:13.476 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-30 10:52:13.476 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-30 10:52:13.476 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-30 10:52:13.476 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-30 10:52:13.477 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-30 10:52:13.478 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-30 10:52:13.478 [INFO] sqlalchemy.engine.Engine - [generated in 0.00008s] ()
2024-12-30 10:52:13.478 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-30 10:52:13.478 [INFO] app.db.migrations - Current database revision: 8c96f0a11496
2024-12-30 10:52:13.478 [INFO] app.db.migrations - Target head revision: 05f202836a5b
2024-12-30 10:52:13.478 [INFO] app.db.migrations - Database needs upgrade, running migration...
2024-12-30 10:55:50.705 [INFO] __main__ - Logger initialized in development mode
2024-12-30 10:55:50.705 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-30 10:55:50.705 [INFO] __main__ - Starting application initialization...
2024-12-30 10:55:50.705 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-30 10:55:50.705 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-30 10:55:50.706 [INFO] __main__ - Logger initialized in development mode
2024-12-30 10:55:50.706 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-30 10:55:50.709 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-30 10:55:50.711 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-30 10:55:50.718 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-30 10:55:50.718 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-30 10:55:50.718 [INFO] app.db.migrations - Starting database migration check...
2024-12-30 10:55:50.722 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-30 10:55:50.722 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-30 10:55:50.722 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-30 10:55:50.722 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-30 10:55:50.722 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-30 10:55:50.724 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-30 10:55:50.724 [INFO] sqlalchemy.engine.Engine - [generated in 0.00007s] ()
2024-12-30 10:55:50.724 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-30 10:55:50.724 [INFO] app.db.migrations - Current database revision: 8c96f0a11496
2024-12-30 10:55:50.724 [INFO] app.db.migrations - Target head revision: 05f202836a5b
2024-12-30 10:55:50.724 [INFO] app.db.migrations - Database needs upgrade, running migration...
2024-12-30 20:13:08.905 [INFO] __main__ - Logger initialized in development mode
2024-12-30 20:13:08.905 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-30 20:13:08.906 [INFO] __main__ - Starting application initialization...
2024-12-30 20:13:08.906 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-30 20:13:08.906 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-30 20:13:08.906 [INFO] __main__ - Logger initialized in development mode
2024-12-30 20:13:08.906 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-30 20:13:08.910 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-30 20:13:08.911 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-30 20:13:08.920 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-30 20:13:08.920 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-30 20:13:08.920 [INFO] app.db.migrations - Starting database migration check...
2024-12-30 20:13:08.924 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-30 20:13:08.924 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-30 20:13:08.924 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-30 20:13:08.924 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-30 20:13:08.924 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-30 20:13:08.926 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-30 20:13:08.926 [INFO] sqlalchemy.engine.Engine - [generated in 0.00008s] ()
2024-12-30 20:13:08.926 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-30 20:13:08.926 [ERROR] app.db.migrations - database migration failed: Version table 'alembic_version' has more than one head present; please use get_current_heads()
2024-12-30 20:14:26.991 [INFO] __main__ - Logger initialized in development mode
2024-12-30 20:14:26.991 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-30 20:14:26.991 [INFO] __main__ - Starting application initialization...
2024-12-30 20:14:26.991 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-30 20:14:26.991 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-30 20:14:26.992 [INFO] __main__ - Logger initialized in development mode
2024-12-30 20:14:26.992 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-30 20:14:26.995 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-30 20:14:26.996 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-30 20:14:27.005 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-30 20:14:27.005 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-30 20:14:27.006 [INFO] app.db.migrations - Starting database migration check...
2024-12-30 20:14:27.009 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-30 20:14:27.009 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-30 20:14:27.009 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-30 20:14:27.009 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-30 20:14:27.009 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-30 20:14:27.010 [INFO] sqlalchemy.engine.Engine - PRAGMA temp.table_info("alembic_version")
2024-12-30 20:14:27.010 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-30 20:14:27.010 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-30 20:14:27.010 [INFO] app.db.migrations - Current database revision: None
2024-12-30 20:14:27.011 [INFO] app.db.migrations - Target head revision: 05f202836a5b
2024-12-30 20:14:27.011 [INFO] app.db.migrations - Database needs upgrade, running migration...
2024-12-30 20:15:32.004 [INFO] __main__ - Logger initialized in development mode
2024-12-30 20:15:32.004 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-30 20:15:32.004 [INFO] __main__ - Starting application initialization...
2024-12-30 20:15:32.004 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-30 20:15:32.004 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-30 20:15:32.004 [INFO] __main__ - Logger initialized in development mode
2024-12-30 20:15:32.004 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-30 20:15:32.008 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-30 20:15:32.009 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-30 20:15:32.017 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-30 20:15:32.017 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-30 20:15:32.017 [INFO] app.db.migrations - Starting database migration check...
2024-12-30 20:15:32.022 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-30 20:15:32.022 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-30 20:15:32.022 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-30 20:15:32.022 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-30 20:15:32.022 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-30 20:15:32.025 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-30 20:15:32.025 [INFO] sqlalchemy.engine.Engine - [generated in 0.00015s] ()
2024-12-30 20:15:32.025 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-30 20:15:32.025 [INFO] app.db.migrations - Current database revision: 05f202836a5b
2024-12-30 20:15:32.025 [INFO] app.db.migrations - Target head revision: 05f202836a5b
2024-12-30 20:15:32.025 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-30 20:15:32.025 [INFO] app.db.migrations - Database check completed successfully
2024-12-30 20:15:32.080 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-30 20:15:32.081 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-30 20:15:32.081 [INFO] sqlalchemy.engine.Engine - [generated in 0.00009s] ()
2024-12-30 20:15:32.081 [INFO] app.db.session - db_connected: True
2024-12-30 20:15:32.081 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-30 20:15:32.081 [INFO] sqlalchemy.engine.Engine - [generated in 0.00006s] ()
2024-12-30 20:15:32.081 [INFO] app.db.session - db_initialized: True
2024-12-30 20:15:32.081 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-30 20:15:32.081 [INFO] sqlalchemy.engine.Engine - [generated in 0.00006s] ()
2024-12-30 20:15:32.081 [INFO] app.db.session - Database version: 05f202836a5b
2024-12-30 20:15:32.082 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-30 20:33:34.223 [ERROR] app.api.v1.endpoints.auth - User registration failed: Mapper 'Mapper[UserSession(user_session)]' has no property 'user'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.
2024-12-30 20:43:10.598 [INFO] __main__ - 接收到终止信号，正在清理资源...
2024-12-30 20:43:10.598 [ERROR] __main__ - 关闭数据库连接时发生错误: 'State' object has no attribute 'engine'
2024-12-30 20:43:13.058 [INFO] __main__ - Logger initialized in development mode
2024-12-30 20:43:13.058 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-30 20:43:13.058 [INFO] __main__ - Starting application initialization...
2024-12-30 20:43:13.058 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-30 20:43:13.058 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-30 20:43:13.059 [INFO] __main__ - Logger initialized in development mode
2024-12-30 20:43:13.059 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-30 20:43:13.062 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-30 20:43:13.063 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-30 20:43:13.071 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-30 20:43:13.071 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-30 20:43:13.072 [INFO] app.db.migrations - Starting database migration check...
2024-12-30 20:43:13.073 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-30 20:43:13.073 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-30 20:43:13.073 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-30 20:43:13.074 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-30 20:43:13.074 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-30 20:43:13.074 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-30 20:43:13.075 [INFO] sqlalchemy.engine.Engine - [generated in 0.00009s] ()
2024-12-30 20:43:13.075 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-30 20:43:13.075 [INFO] app.db.migrations - Current database revision: 05f202836a5b
2024-12-30 20:43:13.075 [INFO] app.db.migrations - Target head revision: 05f202836a5b
2024-12-30 20:43:13.075 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-30 20:43:13.075 [INFO] app.db.migrations - Database check completed successfully
2024-12-30 20:43:13.123 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-30 20:43:13.123 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-30 20:43:13.123 [INFO] sqlalchemy.engine.Engine - [generated in 0.00008s] ()
2024-12-30 20:43:13.123 [INFO] app.db.session - db_connected: True
2024-12-30 20:43:13.123 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-30 20:43:13.123 [INFO] sqlalchemy.engine.Engine - [generated in 0.00007s] ()
2024-12-30 20:43:13.123 [INFO] app.db.session - db_initialized: True
2024-12-30 20:43:13.123 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-30 20:43:13.123 [INFO] sqlalchemy.engine.Engine - [generated in 0.00006s] ()
2024-12-30 20:43:13.123 [INFO] app.db.session - Database version: 05f202836a5b
2024-12-30 20:43:13.124 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-30 20:43:43.854 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-30 20:43:43.856 [INFO] sqlalchemy.engine.Engine - SELECT user.username AS user_username, user.password_hash AS user_password_hash, user.nickname AS user_nickname, user.email AS user_email, user.avatar_path AS user_avatar_path, user.account_status AS user_account_status, user.last_login_at AS user_last_login_at, user.id AS user_id, user.created_at AS user_created_at, user.updated_at AS user_updated_at 
FROM user 
WHERE user.username = ?
 LIMIT ? OFFSET ?
2024-12-30 20:43:43.856 [INFO] sqlalchemy.engine.Engine - [generated in 0.00018s] ('royteso', 1, 0)
2024-12-30 20:43:43.857 [INFO] app.services.auth_service - Creating user object with username=royteso, email=roys@t.com,password=royzhu1225
2024-12-30 20:43:44.026 [INFO] sqlalchemy.engine.Engine - INSERT INTO user (username, password_hash, nickname, email, avatar_path, account_status, last_login_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-30 20:43:44.026 [INFO] sqlalchemy.engine.Engine - [generated in 0.00022s] ('royteso', '$5$rounds=535000$BIy6mUJz66df.ZJb$nTva9wlFKVm9HFo8Wf0h9Ni/lU1C2dgT58mwALAHnz7', None, 'roys@t.com', None, 'ACTIVE', None, 'a23da4c3-cfec-4ba0-9879-9daa06815cc4', '2024-12-31 01:43:44.026078', '2024-12-31 01:43:44.026082')
2024-12-30 20:43:44.027 [INFO] app.services.auth_service - start create user settings
2024-12-30 20:43:44.027 [INFO] app.services.auth_service - end create user session
2024-12-30 20:43:44.028 [INFO] sqlalchemy.engine.Engine - INSERT INTO user_preferences (user_id, language, currency, theme, login_expire_days, require_password_on_launch, notification_enabled, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-30 20:43:44.028 [INFO] sqlalchemy.engine.Engine - [generated in 0.00013s] ('a23da4c3-cfec-4ba0-9879-9daa06815cc4', 'EN', 'CAD', 'SUNSET', 7, 0, 1, 'fdb0fd0c-8043-4848-84c8-a817c6aef77b', '2024-12-31 01:43:44.028189', '2024-12-31 01:43:44.028190')
2024-12-30 20:43:44.028 [INFO] sqlalchemy.engine.Engine - INSERT INTO user_session (user_id, device_id, device_name, device_type, os, model, manufacturer, ip, token, token_expires_at, last_active_at, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-30 20:43:44.028 [INFO] sqlalchemy.engine.Engine - [generated in 0.00012s] ('a23da4c3-cfec-4ba0-9879-9daa06815cc4', 'dev-device', 'Development Machine', 'Desktop', 'Development OS', '2024 Model', 'Apple', '127.0.0.1', b'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhMjNkYTRjMy1jZmVjLTRiYTAtOTg3OS05ZGFhMDY4MTVjYzQiLCJpYXQiOjE3MzU2MDk0MjQsImV4cCI6MTczNjIxNDIyNCwidHlwZSI6ImFjY2VzcyJ9.zZ7hpOXNci7Ir7-3k-T5kpf6PCOz6psroPNstxFLzO4', '2025-01-07 01:43:44.027541', '2024-12-31 01:43:44.027543', 1, '06ce19f5-aa4e-47af-b730-ee06c3f762c5', '2024-12-31 01:43:44.028802', '2024-12-31 01:43:44.028803')
2024-12-30 20:43:44.029 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-30 20:43:44.030 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-30 20:43:44.031 [INFO] sqlalchemy.engine.Engine - SELECT user_settings.user_id AS user_settings_user_id, user_settings.is_two_factor_enabled AS user_settings_is_two_factor_enabled, user_settings.security_question_set AS user_settings_security_question_set, user_settings.email_notifications_enabled AS user_settings_email_notifications_enabled, user_settings.account_locked AS user_settings_account_locked, user_settings.last_password_reset_at AS user_settings_last_password_reset_at, user_settings.id AS user_settings_id, user_settings.created_at AS user_settings_created_at, user_settings.updated_at AS user_settings_updated_at 
FROM user_settings 
WHERE ? = user_settings.user_id
2024-12-30 20:43:44.031 [INFO] sqlalchemy.engine.Engine - [generated in 0.00010s] ('a23da4c3-cfec-4ba0-9879-9daa06815cc4',)
2024-12-30 21:27:57.829 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-30 21:27:57.831 [INFO] sqlalchemy.engine.Engine - SELECT user.username AS user_username, user.password_hash AS user_password_hash, user.nickname AS user_nickname, user.email AS user_email, user.avatar_path AS user_avatar_path, user.account_status AS user_account_status, user.last_login_at AS user_last_login_at, user.id AS user_id, user.created_at AS user_created_at, user.updated_at AS user_updated_at 
FROM user 
WHERE user.username = ?
 LIMIT ? OFFSET ?
2024-12-30 21:27:57.831 [INFO] sqlalchemy.engine.Engine - [cached since 2654s ago] ('roubos', 1, 0)
2024-12-30 21:27:57.832 [INFO] app.services.auth_service - Creating user object with username=roubos, email=roybos@tom.com,password=royzhu1225
2024-12-30 21:27:58.006 [INFO] sqlalchemy.engine.Engine - INSERT INTO user (username, password_hash, nickname, email, avatar_path, account_status, last_login_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-30 21:27:58.006 [INFO] sqlalchemy.engine.Engine - [cached since 2654s ago] ('roubos', '$5$rounds=535000$WUWCie1wCsUgLpDh$R89zNYV0Mom.mLSvV.LETj/.xHRaQYbAeYRnApds5G4', None, 'roybos@tom.com', None, 'ACTIVE', None, '557f9bb9-322f-4335-9e03-c1ff5ce98d37', '2024-12-31 02:27:58.006219', '2024-12-31 02:27:58.006221')
2024-12-30 21:27:58.008 [INFO] app.services.auth_service - start create user settings
2024-12-30 21:27:58.008 [INFO] app.services.auth_service - end create user session
2024-12-30 21:27:58.008 [INFO] sqlalchemy.engine.Engine - INSERT INTO user_preferences (user_id, language, currency, theme, login_expire_days, require_password_on_launch, notification_enabled, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-30 21:27:58.008 [INFO] sqlalchemy.engine.Engine - [cached since 2654s ago] ('557f9bb9-322f-4335-9e03-c1ff5ce98d37', 'EN', 'CAD', 'SUNSET', 7, 0, 1, 'a2d25330-c51b-4c1a-9c66-2e1c998ae29e', '2024-12-31 02:27:58.008864', '2024-12-31 02:27:58.008865')
2024-12-30 21:27:58.009 [INFO] sqlalchemy.engine.Engine - INSERT INTO user_session (user_id, device_id, device_name, device_type, os, model, manufacturer, ip, token, token_expires_at, last_active_at, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-30 21:27:58.009 [INFO] sqlalchemy.engine.Engine - [cached since 2654s ago] ('557f9bb9-322f-4335-9e03-c1ff5ce98d37', 'dev-device', 'Development Machine', 'Desktop', 'Development OS', '2024 Model', 'Apple', '127.0.0.1', b'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI1NTdmOWJiOS0zMjJmLTQzMzUtOWUwMy1jMWZmNWNlOThkMzciLCJpYXQiOjE3MzU2MTIwNzgsImV4cCI6MTczNjIxNjg3OCwidHlwZSI6ImFjY2VzcyJ9.kJ9cVQtdXeHeFS4AkhedEMbFs4HUYABghjGbYzlPn5c', '2025-01-07 02:27:58.008630', '2024-12-31 02:27:58.008636', 1, '84bcd211-4b8a-4d1f-a0b2-13d19b0a889d', '2024-12-31 02:27:58.009162', '2024-12-31 02:27:58.009163')
2024-12-30 21:27:58.009 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-30 21:27:58.010 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-30 21:27:58.010 [INFO] sqlalchemy.engine.Engine - SELECT user_settings.user_id AS user_settings_user_id, user_settings.is_two_factor_enabled AS user_settings_is_two_factor_enabled, user_settings.security_question_set AS user_settings_security_question_set, user_settings.email_notifications_enabled AS user_settings_email_notifications_enabled, user_settings.account_locked AS user_settings_account_locked, user_settings.last_password_reset_at AS user_settings_last_password_reset_at, user_settings.id AS user_settings_id, user_settings.created_at AS user_settings_created_at, user_settings.updated_at AS user_settings_updated_at 
FROM user_settings 
WHERE ? = user_settings.user_id
2024-12-30 21:27:58.010 [INFO] sqlalchemy.engine.Engine - [cached since 2654s ago] ('557f9bb9-322f-4335-9e03-c1ff5ce98d37',)
2024-12-30 21:30:12.132 [INFO] __main__ - 接收到终止信号，正在清理资源...
2024-12-30 21:30:12.133 [ERROR] __main__ - 关闭数据库连接时发生错误: 'State' object has no attribute 'engine'
2024-12-30 21:30:14.623 [INFO] __main__ - Logger initialized in development mode
2024-12-30 21:30:14.623 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-30 21:30:14.623 [INFO] __main__ - Starting application initialization...
2024-12-30 21:30:14.623 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-30 21:30:14.623 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-30 21:30:14.623 [INFO] __main__ - Logger initialized in development mode
2024-12-30 21:30:14.623 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-30 21:30:14.627 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-30 21:30:14.628 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-30 21:30:14.636 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-30 21:30:14.636 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-30 21:30:14.636 [INFO] app.db.migrations - Starting database migration check...
2024-12-30 21:30:14.638 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-30 21:30:14.638 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-30 21:30:14.638 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-30 21:30:14.638 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-30 21:30:14.638 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-30 21:30:14.639 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-30 21:30:14.639 [INFO] sqlalchemy.engine.Engine - [generated in 0.00008s] ()
2024-12-30 21:30:14.639 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-30 21:30:14.639 [INFO] app.db.migrations - Current database revision: 05f202836a5b
2024-12-30 21:30:14.639 [INFO] app.db.migrations - Target head revision: 05f202836a5b
2024-12-30 21:30:14.639 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-30 21:30:14.639 [INFO] app.db.migrations - Database check completed successfully
2024-12-30 21:30:14.709 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-30 21:30:14.709 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-30 21:30:14.709 [INFO] sqlalchemy.engine.Engine - [generated in 0.00009s] ()
2024-12-30 21:30:14.709 [INFO] app.db.session - db_connected: True
2024-12-30 21:30:14.710 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-30 21:30:14.710 [INFO] sqlalchemy.engine.Engine - [generated in 0.00006s] ()
2024-12-30 21:30:14.710 [INFO] app.db.session - db_initialized: True
2024-12-30 21:30:14.710 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-30 21:30:14.710 [INFO] sqlalchemy.engine.Engine - [generated in 0.00007s] ()
2024-12-30 21:30:14.710 [INFO] app.db.session - Database version: 05f202836a5b
2024-12-30 21:30:14.710 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-30 21:30:38.472 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-30 21:30:38.475 [INFO] sqlalchemy.engine.Engine - SELECT user.username AS user_username, user.password_hash AS user_password_hash, user.nickname AS user_nickname, user.email AS user_email, user.avatar_path AS user_avatar_path, user.account_status AS user_account_status, user.last_login_at AS user_last_login_at, user.id AS user_id, user.created_at AS user_created_at, user.updated_at AS user_updated_at 
FROM user 
WHERE user.username = ?
 LIMIT ? OFFSET ?
2024-12-30 21:30:38.475 [INFO] sqlalchemy.engine.Engine - [generated in 0.00022s] ('test001', 1, 0)
2024-12-30 21:30:38.475 [INFO] app.services.auth_service - Creating user object with username=test001, email=test001@test.com,password=royzhu1225
2024-12-30 21:30:38.654 [INFO] sqlalchemy.engine.Engine - INSERT INTO user (username, password_hash, nickname, email, avatar_path, account_status, last_login_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-30 21:30:38.654 [INFO] sqlalchemy.engine.Engine - [generated in 0.00026s] ('test001', '$5$rounds=535000$W5Wtb8SV293DGS8s$O6JKY4KsrRSNQjDHnY2CDx03wTm8sIMcxc9FAhFReu1', None, 'test001@test.com', None, 'ACTIVE', None, '2ab71af5-8df5-4f88-a69c-d5830b2eb497', '2024-12-31 02:30:38.653975', '2024-12-31 02:30:38.653982')
2024-12-30 21:30:38.655 [INFO] app.services.auth_service - start create user settings
2024-12-30 21:30:38.655 [INFO] app.services.auth_service - end create user session
2024-12-30 21:30:38.656 [INFO] sqlalchemy.engine.Engine - INSERT INTO user_preferences (user_id, language, currency, theme, login_expire_days, require_password_on_launch, notification_enabled, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-30 21:30:38.656 [INFO] sqlalchemy.engine.Engine - [generated in 0.00016s] ('2ab71af5-8df5-4f88-a69c-d5830b2eb497', 'EN', 'CAD', 'SUNSET', 7, 0, 1, '60581cbc-5b14-4dea-a63b-a13e9626145c', '2024-12-31 02:30:38.656771', '2024-12-31 02:30:38.656772')
2024-12-30 21:30:38.657 [INFO] sqlalchemy.engine.Engine - INSERT INTO user_session (user_id, device_id, device_name, device_type, os, model, manufacturer, ip, token, token_expires_at, last_active_at, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-30 21:30:38.657 [INFO] sqlalchemy.engine.Engine - [generated in 0.00013s] ('2ab71af5-8df5-4f88-a69c-d5830b2eb497', 'dev-device', 'Development Machine', 'Desktop', 'Development OS', '2024 Model', 'Apple', '127.0.0.1', b'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIyYWI3MWFmNS04ZGY1LTRmODgtYTY5Yy1kNTgzMGIyZWI0OTciLCJpYXQiOjE3MzU2MTIyMzgsImV4cCI6MTczNjIxNzAzOCwidHlwZSI6ImFjY2VzcyJ9.CVOVTyC7qkXkdy_STT4XbplrASegJ02peFEUvw-ekEA', '2025-01-07 02:30:38.655940', '2024-12-31 02:30:38.655943', 1, 'cd299bfb-79ae-4dd5-93df-0ba6dbb31af1', '2024-12-31 02:30:38.657436', '2024-12-31 02:30:38.657436')
2024-12-30 21:30:38.658 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-30 21:30:38.659 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-30 21:30:38.660 [INFO] sqlalchemy.engine.Engine - SELECT user_settings.user_id AS user_settings_user_id, user_settings.is_two_factor_enabled AS user_settings_is_two_factor_enabled, user_settings.security_question_set AS user_settings_security_question_set, user_settings.email_notifications_enabled AS user_settings_email_notifications_enabled, user_settings.account_locked AS user_settings_account_locked, user_settings.last_password_reset_at AS user_settings_last_password_reset_at, user_settings.id AS user_settings_id, user_settings.created_at AS user_settings_created_at, user_settings.updated_at AS user_settings_updated_at 
FROM user_settings 
WHERE ? = user_settings.user_id
2024-12-30 21:30:38.660 [INFO] sqlalchemy.engine.Engine - [generated in 0.00010s] ('2ab71af5-8df5-4f88-a69c-d5830b2eb497',)
2024-12-30 21:35:06.910 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-30 21:35:06.911 [INFO] sqlalchemy.engine.Engine - SELECT user.username AS user_username, user.password_hash AS user_password_hash, user.nickname AS user_nickname, user.email AS user_email, user.avatar_path AS user_avatar_path, user.account_status AS user_account_status, user.last_login_at AS user_last_login_at, user.id AS user_id, user.created_at AS user_created_at, user.updated_at AS user_updated_at 
FROM user 
WHERE user.username = ?
 LIMIT ? OFFSET ?
2024-12-30 21:35:06.911 [INFO] sqlalchemy.engine.Engine - [cached since 268.4s ago] ('test002', 1, 0)
2024-12-30 21:35:06.913 [INFO] app.services.auth_service - Creating user object with username=test002, email=test002@test.com,password=royzhu1225
2024-12-30 21:35:07.088 [INFO] sqlalchemy.engine.Engine - INSERT INTO user (username, password_hash, nickname, email, avatar_path, account_status, last_login_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-30 21:35:07.088 [INFO] sqlalchemy.engine.Engine - [cached since 268.4s ago] ('test002', '$5$rounds=535000$un7nMnIXqExMw4Bz$bJMYJwd//vp1.dh/k6pNpBnWPF5oLEkzyj5QOa2r4G/', None, 'test002@test.com', None, 'ACTIVE', None, '5a35fd97-2622-40ab-9557-102d223995c5', '2024-12-31 02:35:07.088600', '2024-12-31 02:35:07.088607')
2024-12-30 21:35:07.090 [INFO] app.services.auth_service - start create user settings
2024-12-30 21:35:07.090 [INFO] app.services.auth_service - end create user session
2024-12-30 21:35:07.091 [INFO] sqlalchemy.engine.Engine - INSERT INTO user_preferences (user_id, language, currency, theme, login_expire_days, require_password_on_launch, notification_enabled, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-30 21:35:07.091 [INFO] sqlalchemy.engine.Engine - [cached since 268.4s ago] ('5a35fd97-2622-40ab-9557-102d223995c5', 'EN', 'CAD', 'SUNSET', 7, 0, 1, '5987bf00-03f0-43a2-9086-210998eafcdb', '2024-12-31 02:35:07.091153', '2024-12-31 02:35:07.091154')
2024-12-30 21:35:07.091 [INFO] sqlalchemy.engine.Engine - INSERT INTO user_session (user_id, device_id, device_name, device_type, os, model, manufacturer, ip, token, token_expires_at, last_active_at, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-30 21:35:07.091 [INFO] sqlalchemy.engine.Engine - [cached since 268.4s ago] ('5a35fd97-2622-40ab-9557-102d223995c5', 'dev-device', 'Development Machine', 'Desktop', 'Development OS', '2024 Model', 'Apple', '127.0.0.1', b'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI1YTM1ZmQ5Ny0yNjIyLTQwYWItOTU1Ny0xMDJkMjIzOTk1YzUiLCJpYXQiOjE3MzU2MTI1MDcsImV4cCI6MTczNjIxNzMwNywidHlwZSI6ImFjY2VzcyJ9.at0wpeNXTAMqcpOTkW68jKQsIFRnuuZF0f7ZTWo1Kew', '2025-01-07 02:35:07.090890', '2024-12-31 02:35:07.090901', 1, 'fdb461a4-6f04-4bf5-a390-5b4b69f538fa', '2024-12-31 02:35:07.091484', '2024-12-31 02:35:07.091484')
2024-12-30 21:35:07.091 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-30 21:35:07.092 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-30 21:35:07.092 [INFO] sqlalchemy.engine.Engine - SELECT user_settings.user_id AS user_settings_user_id, user_settings.is_two_factor_enabled AS user_settings_is_two_factor_enabled, user_settings.security_question_set AS user_settings_security_question_set, user_settings.email_notifications_enabled AS user_settings_email_notifications_enabled, user_settings.account_locked AS user_settings_account_locked, user_settings.last_password_reset_at AS user_settings_last_password_reset_at, user_settings.id AS user_settings_id, user_settings.created_at AS user_settings_created_at, user_settings.updated_at AS user_settings_updated_at 
FROM user_settings 
WHERE ? = user_settings.user_id
2024-12-30 21:35:07.092 [INFO] sqlalchemy.engine.Engine - [cached since 268.4s ago] ('5a35fd97-2622-40ab-9557-102d223995c5',)
2024-12-30 21:42:09.382 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-30 21:42:09.384 [INFO] sqlalchemy.engine.Engine - SELECT user.username AS user_username, user.password_hash AS user_password_hash, user.nickname AS user_nickname, user.email AS user_email, user.avatar_path AS user_avatar_path, user.account_status AS user_account_status, user.last_login_at AS user_last_login_at, user.id AS user_id, user.created_at AS user_created_at, user.updated_at AS user_updated_at 
FROM user 
WHERE user.username = ?
 LIMIT ? OFFSET ?
2024-12-30 21:42:09.384 [INFO] sqlalchemy.engine.Engine - [cached since 690.9s ago] ('test03', 1, 0)
2024-12-30 21:42:09.386 [INFO] app.services.auth_service - Creating user object with username=test03, email=test03@test.com,password=royzhu1225
2024-12-30 21:42:09.561 [INFO] sqlalchemy.engine.Engine - INSERT INTO user (username, password_hash, nickname, email, avatar_path, account_status, last_login_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-30 21:42:09.561 [INFO] sqlalchemy.engine.Engine - [cached since 690.9s ago] ('test03', '$5$rounds=535000$l7bbOxjYfKbpc4uA$EFB50HtwO2YsJXKwX/oFTtaz.jC/pkQ7KLsOTAROqU6', None, 'test03@test.com', None, 'ACTIVE', None, 'cb2a1b53-89c7-4982-9834-64fa906f7832', '2024-12-31 02:42:09.561180', '2024-12-31 02:42:09.561184')
2024-12-30 21:42:09.563 [INFO] app.services.auth_service - start create user settings
2024-12-30 21:42:09.563 [INFO] app.services.auth_service - end create user session
2024-12-30 21:42:09.563 [INFO] sqlalchemy.engine.Engine - INSERT INTO user_preferences (user_id, language, currency, theme, login_expire_days, require_password_on_launch, notification_enabled, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-30 21:42:09.563 [INFO] sqlalchemy.engine.Engine - [cached since 690.9s ago] ('cb2a1b53-89c7-4982-9834-64fa906f7832', 'EN', 'CAD', 'SUNSET', 7, 0, 1, '82563bf0-5dbd-4967-a814-0b09042648aa', '2024-12-31 02:42:09.563816', '2024-12-31 02:42:09.563817')
2024-12-30 21:42:09.564 [INFO] sqlalchemy.engine.Engine - INSERT INTO user_session (user_id, device_id, device_name, device_type, os, model, manufacturer, ip, token, token_expires_at, last_active_at, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-30 21:42:09.564 [INFO] sqlalchemy.engine.Engine - [cached since 690.9s ago] ('cb2a1b53-89c7-4982-9834-64fa906f7832', 'dev-device', 'Development Machine', 'Desktop', 'Development OS', '2024 Model', 'Apple', '127.0.0.1', b'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJjYjJhMWI1My04OWM3LTQ5ODItOTgzNC02NGZhOTA2Zjc4MzIiLCJpYXQiOjE3MzU2MTI5MjksImV4cCI6MTczNjIxNzcyOSwidHlwZSI6ImFjY2VzcyJ9.se69KJbQOBFGnRyFRSkgpP8-YdQhDjumvSJdcA_UJwc', '2025-01-07 02:42:09.563567', '2024-12-31 02:42:09.563574', 1, 'fb7cce10-f98a-49b6-adbd-0e35f05964a3', '2024-12-31 02:42:09.564130', '2024-12-31 02:42:09.564131')
2024-12-30 21:42:09.564 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-30 21:42:09.565 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-30 21:42:09.565 [INFO] sqlalchemy.engine.Engine - SELECT user_settings.user_id AS user_settings_user_id, user_settings.is_two_factor_enabled AS user_settings_is_two_factor_enabled, user_settings.security_question_set AS user_settings_security_question_set, user_settings.email_notifications_enabled AS user_settings_email_notifications_enabled, user_settings.account_locked AS user_settings_account_locked, user_settings.last_password_reset_at AS user_settings_last_password_reset_at, user_settings.id AS user_settings_id, user_settings.created_at AS user_settings_created_at, user_settings.updated_at AS user_settings_updated_at 
FROM user_settings 
WHERE ? = user_settings.user_id
2024-12-30 21:42:09.565 [INFO] sqlalchemy.engine.Engine - [cached since 690.9s ago] ('cb2a1b53-89c7-4982-9834-64fa906f7832',)
2024-12-30 21:52:00.027 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-30 21:52:00.029 [INFO] sqlalchemy.engine.Engine - SELECT user.username AS user_username, user.password_hash AS user_password_hash, user.nickname AS user_nickname, user.email AS user_email, user.avatar_path AS user_avatar_path, user.account_status AS user_account_status, user.last_login_at AS user_last_login_at, user.id AS user_id, user.created_at AS user_created_at, user.updated_at AS user_updated_at 
FROM user 
WHERE user.username = ?
 LIMIT ? OFFSET ?
2024-12-30 21:52:00.029 [INFO] sqlalchemy.engine.Engine - [cached since 1282s ago] ('test04', 1, 0)
2024-12-30 21:52:00.031 [INFO] app.services.auth_service - Creating user object with username=test04, email=test04@test.com,password=royzhu1225
2024-12-30 21:52:00.207 [INFO] sqlalchemy.engine.Engine - INSERT INTO user (username, password_hash, nickname, email, avatar_path, account_status, last_login_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-30 21:52:00.207 [INFO] sqlalchemy.engine.Engine - [cached since 1282s ago] ('test04', '$5$rounds=535000$hRNF/aGPEezQ/AXz$ra/FKXlP4AvZ29ijpzjYcTc8YgbZlpbBVyYWstBW2OC', None, 'test04@test.com', None, 'ACTIVE', None, '9537ce11-e924-4bef-849b-1a00a8708e19', '2024-12-31 02:52:00.207617', '2024-12-31 02:52:00.207620')
2024-12-30 21:52:00.208 [INFO] app.services.auth_service - start create user settings
2024-12-30 21:52:00.209 [INFO] app.services.auth_service - end create user session
2024-12-30 21:52:00.209 [INFO] sqlalchemy.engine.Engine - INSERT INTO user_preferences (user_id, language, currency, theme, login_expire_days, require_password_on_launch, notification_enabled, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-30 21:52:00.209 [INFO] sqlalchemy.engine.Engine - [cached since 1282s ago] ('9537ce11-e924-4bef-849b-1a00a8708e19', 'EN', 'CAD', 'NATURAL', 7, 0, 1, '17670c88-520c-4f7b-a4b0-9c153a33d67e', '2024-12-31 02:52:00.209523', '2024-12-31 02:52:00.209524')
2024-12-30 21:52:00.209 [INFO] sqlalchemy.engine.Engine - INSERT INTO user_session (user_id, device_id, device_name, device_type, os, model, manufacturer, ip, token, token_expires_at, last_active_at, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-30 21:52:00.209 [INFO] sqlalchemy.engine.Engine - [cached since 1282s ago] ('9537ce11-e924-4bef-849b-1a00a8708e19', 'dev-device', 'Development Machine', 'Desktop', 'Development OS', '2024 Model', 'Apple', '127.0.0.1', b'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI5NTM3Y2UxMS1lOTI0LTRiZWYtODQ5Yi0xYTAwYTg3MDhlMTkiLCJpYXQiOjE3MzU2MTM1MjAsImV4cCI6MTczNjIxODMyMCwidHlwZSI6ImFjY2VzcyJ9.OG9wYEGtOBRuRs0JJMNyrVhDy-UxmE5u9JLUmDyEY1M', '2025-01-07 02:52:00.209237', '2024-12-31 02:52:00.209243', 1, '354db4ad-c58a-4a2a-8541-f7bb7f4eca87', '2024-12-31 02:52:00.209830', '2024-12-31 02:52:00.209830')
2024-12-30 21:52:00.210 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-30 21:52:00.211 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-30 21:52:00.211 [INFO] sqlalchemy.engine.Engine - SELECT user_settings.user_id AS user_settings_user_id, user_settings.is_two_factor_enabled AS user_settings_is_two_factor_enabled, user_settings.security_question_set AS user_settings_security_question_set, user_settings.email_notifications_enabled AS user_settings_email_notifications_enabled, user_settings.account_locked AS user_settings_account_locked, user_settings.last_password_reset_at AS user_settings_last_password_reset_at, user_settings.id AS user_settings_id, user_settings.created_at AS user_settings_created_at, user_settings.updated_at AS user_settings_updated_at 
FROM user_settings 
WHERE ? = user_settings.user_id
2024-12-30 21:52:00.211 [INFO] sqlalchemy.engine.Engine - [cached since 1282s ago] ('9537ce11-e924-4bef-849b-1a00a8708e19',)
2024-12-30 22:11:38.759 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-30 22:11:38.761 [INFO] sqlalchemy.engine.Engine - SELECT user.username AS user_username, user.password_hash AS user_password_hash, user.nickname AS user_nickname, user.email AS user_email, user.avatar_path AS user_avatar_path, user.account_status AS user_account_status, user.last_login_at AS user_last_login_at, user.id AS user_id, user.created_at AS user_created_at, user.updated_at AS user_updated_at 
FROM user 
WHERE user.username = ?
 LIMIT ? OFFSET ?
2024-12-30 22:11:38.761 [INFO] sqlalchemy.engine.Engine - [cached since 2460s ago] ('test05', 1, 0)
2024-12-30 22:11:38.762 [INFO] app.services.auth_service - Creating user object with username=test05, email=test05@test.com,password=royzhu1225
2024-12-30 22:11:38.935 [INFO] sqlalchemy.engine.Engine - INSERT INTO user (username, password_hash, nickname, email, avatar_path, account_status, last_login_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-30 22:11:38.936 [INFO] sqlalchemy.engine.Engine - [cached since 2460s ago] ('test05', '$5$rounds=535000$yVtAbemBbI/aTxg.$1k7s9Vw2PU1cb7y9roWbwECkOvxQOiKWh.7plL3ZWM8', None, 'test05@test.com', None, 'ACTIVE', None, '192af822-0ce6-460f-b0f8-96035a9371e0', '2024-12-31 03:11:38.935934', '2024-12-31 03:11:38.935938')
2024-12-30 22:11:38.937 [INFO] app.services.auth_service - start create user settings
2024-12-30 22:11:38.937 [INFO] app.services.auth_service - end create user session
2024-12-30 22:11:38.938 [INFO] sqlalchemy.engine.Engine - INSERT INTO user_preferences (user_id, language, currency, theme, login_expire_days, require_password_on_launch, notification_enabled, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-30 22:11:38.938 [INFO] sqlalchemy.engine.Engine - [cached since 2460s ago] ('192af822-0ce6-460f-b0f8-96035a9371e0', 'EN', 'CAD', 'SUNSET', 7, 0, 1, 'b38c4b0b-5854-492c-a227-01fcedf4618d', '2024-12-31 03:11:38.937980', '2024-12-31 03:11:38.937981')
2024-12-30 22:11:38.938 [INFO] sqlalchemy.engine.Engine - INSERT INTO user_session (user_id, device_id, device_name, device_type, os, model, manufacturer, ip, token, token_expires_at, last_active_at, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-30 22:11:38.938 [INFO] sqlalchemy.engine.Engine - [cached since 2460s ago] ('192af822-0ce6-460f-b0f8-96035a9371e0', 'dev-device', 'Development Machine', 'Desktop', 'Development OS', '2024 Model', 'Apple', '127.0.0.1', b'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxOTJhZjgyMi0wY2U2LTQ2MGYtYjBmOC05NjAzNWE5MzcxZTAiLCJpYXQiOjE3MzU2MTQ2OTgsImV4cCI6MTczNjIxOTQ5OCwidHlwZSI6ImFjY2VzcyJ9.dZi8IE17DT81nesAsDQkN467y_woweatyhGHzU-AzOg', '2025-01-07 03:11:38.937695', '2024-12-31 03:11:38.937705', 1, 'ca35a08e-619a-4e70-be90-b30df778248e', '2024-12-31 03:11:38.938322', '2024-12-31 03:11:38.938323')
2024-12-30 22:11:38.938 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-30 22:11:38.939 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-30 22:11:38.940 [INFO] sqlalchemy.engine.Engine - SELECT user_settings.user_id AS user_settings_user_id, user_settings.is_two_factor_enabled AS user_settings_is_two_factor_enabled, user_settings.security_question_set AS user_settings_security_question_set, user_settings.email_notifications_enabled AS user_settings_email_notifications_enabled, user_settings.account_locked AS user_settings_account_locked, user_settings.last_password_reset_at AS user_settings_last_password_reset_at, user_settings.id AS user_settings_id, user_settings.created_at AS user_settings_created_at, user_settings.updated_at AS user_settings_updated_at 
FROM user_settings 
WHERE ? = user_settings.user_id
2024-12-30 22:11:38.940 [INFO] sqlalchemy.engine.Engine - [cached since 2460s ago] ('192af822-0ce6-460f-b0f8-96035a9371e0',)
2024-12-30 22:35:12.334 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-30 22:35:12.336 [INFO] sqlalchemy.engine.Engine - SELECT user.username AS user_username, user.password_hash AS user_password_hash, user.nickname AS user_nickname, user.email AS user_email, user.avatar_path AS user_avatar_path, user.account_status AS user_account_status, user.last_login_at AS user_last_login_at, user.id AS user_id, user.created_at AS user_created_at, user.updated_at AS user_updated_at 
FROM user 
WHERE user.username = ?
 LIMIT ? OFFSET ?
2024-12-30 22:35:12.336 [INFO] sqlalchemy.engine.Engine - [cached since 3874s ago] ('test06', 1, 0)
2024-12-30 22:35:12.338 [INFO] app.services.auth_service - Creating user object with username=test06, email=test06@test.com,password=royzhu1225
2024-12-30 22:35:12.511 [INFO] sqlalchemy.engine.Engine - INSERT INTO user (username, password_hash, nickname, email, avatar_path, account_status, last_login_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-30 22:35:12.511 [INFO] sqlalchemy.engine.Engine - [cached since 3874s ago] ('test06', '$5$rounds=535000$zTn8ah6M46PJ5dUt$RE4K3hoQrFFaEYNpkhta73a3igWRE3Xza4f4nGMz/h.', None, 'test06@test.com', None, 'ACTIVE', None, 'ed631125-1183-4e57-85f0-e9819d853fe4', '2024-12-31 03:35:12.511329', '2024-12-31 03:35:12.511332')
2024-12-30 22:35:12.512 [INFO] app.services.auth_service - start create user settings
2024-12-30 22:35:12.513 [INFO] app.services.auth_service - end create user session
2024-12-30 22:35:12.513 [INFO] sqlalchemy.engine.Engine - INSERT INTO user_preferences (user_id, language, currency, theme, login_expire_days, require_password_on_launch, notification_enabled, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-30 22:35:12.513 [INFO] sqlalchemy.engine.Engine - [cached since 3874s ago] ('ed631125-1183-4e57-85f0-e9819d853fe4', 'EN', 'CAD', 'SUNSET', 7, 0, 1, '2ac7aa0d-f9aa-4b93-b93a-774aecd9107e', '2024-12-31 03:35:12.513616', '2024-12-31 03:35:12.513617')
2024-12-30 22:35:12.513 [INFO] sqlalchemy.engine.Engine - INSERT INTO user_session (user_id, device_id, device_name, device_type, os, model, manufacturer, ip, token, token_expires_at, last_active_at, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-30 22:35:12.514 [INFO] sqlalchemy.engine.Engine - [cached since 3874s ago] ('ed631125-1183-4e57-85f0-e9819d853fe4', 'dev-device', 'Development Machine', 'Desktop', 'Development OS', '2024 Model', 'Apple', '127.0.0.1', b'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJlZDYzMTEyNS0xMTgzLTRlNTctODVmMC1lOTgxOWQ4NTNmZTQiLCJpYXQiOjE3MzU2MTYxMTIsImV4cCI6MTczNjIyMDkxMiwidHlwZSI6ImFjY2VzcyJ9.3ygsAF9AxCBURbtrsrApwvQvYEeUCVVrz0kjQWcQxNE', '2025-01-07 03:35:12.513341', '2024-12-31 03:35:12.513347', 1, 'e6e8c448-796c-4628-b6a6-9edad85fb311', '2024-12-31 03:35:12.513959', '2024-12-31 03:35:12.513960')
2024-12-30 22:35:12.514 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-30 22:35:12.515 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-30 22:35:12.515 [INFO] sqlalchemy.engine.Engine - SELECT user_settings.user_id AS user_settings_user_id, user_settings.is_two_factor_enabled AS user_settings_is_two_factor_enabled, user_settings.security_question_set AS user_settings_security_question_set, user_settings.email_notifications_enabled AS user_settings_email_notifications_enabled, user_settings.account_locked AS user_settings_account_locked, user_settings.last_password_reset_at AS user_settings_last_password_reset_at, user_settings.id AS user_settings_id, user_settings.created_at AS user_settings_created_at, user_settings.updated_at AS user_settings_updated_at 
FROM user_settings 
WHERE ? = user_settings.user_id
2024-12-30 22:35:12.515 [INFO] sqlalchemy.engine.Engine - [cached since 3874s ago] ('ed631125-1183-4e57-85f0-e9819d853fe4',)
2024-12-30 22:37:42.440 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-30 22:37:42.440 [INFO] sqlalchemy.engine.Engine - SELECT user.username AS user_username, user.password_hash AS user_password_hash, user.nickname AS user_nickname, user.email AS user_email, user.avatar_path AS user_avatar_path, user.account_status AS user_account_status, user.last_login_at AS user_last_login_at, user.id AS user_id, user.created_at AS user_created_at, user.updated_at AS user_updated_at 
FROM user 
WHERE user.username = ?
 LIMIT ? OFFSET ?
2024-12-30 22:37:42.441 [INFO] sqlalchemy.engine.Engine - [cached since 4024s ago] ('test08', 1, 0)
2024-12-30 22:37:42.441 [INFO] app.services.auth_service - Creating user object with username=test08, email=test08@test.com,password=royzhu1225
2024-12-30 22:37:42.618 [INFO] sqlalchemy.engine.Engine - INSERT INTO user (username, password_hash, nickname, email, avatar_path, account_status, last_login_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-30 22:37:42.618 [INFO] sqlalchemy.engine.Engine - [cached since 4024s ago] ('test08', '$5$rounds=535000$H/jfitCGHf7Jhgm/$N0cw.3j.TGbVHTNHSHBG9t313zAGMGKMGD/DSCDooy6', None, 'test08@test.com', None, 'ACTIVE', None, '18b4c768-4ae8-4993-bb58-787391b53339', '2024-12-31 03:37:42.618591', '2024-12-31 03:37:42.618594')
2024-12-30 22:37:42.620 [INFO] app.services.auth_service - start create user settings
2024-12-30 22:37:42.620 [INFO] app.services.auth_service - end create user session
2024-12-30 22:37:42.620 [INFO] sqlalchemy.engine.Engine - INSERT INTO user_preferences (user_id, language, currency, theme, login_expire_days, require_password_on_launch, notification_enabled, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-30 22:37:42.620 [INFO] sqlalchemy.engine.Engine - [cached since 4024s ago] ('18b4c768-4ae8-4993-bb58-787391b53339', 'EN', 'CAD', 'SUNSET', 7, 0, 1, 'c82845f7-33e2-4ea2-ad1c-50cd497ec868', '2024-12-31 03:37:42.620573', '2024-12-31 03:37:42.620574')
2024-12-30 22:37:42.620 [INFO] sqlalchemy.engine.Engine - INSERT INTO user_session (user_id, device_id, device_name, device_type, os, model, manufacturer, ip, token, token_expires_at, last_active_at, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-30 22:37:42.620 [INFO] sqlalchemy.engine.Engine - [cached since 4024s ago] ('18b4c768-4ae8-4993-bb58-787391b53339', 'dev-device', 'Development Machine', 'Desktop', 'Development OS', '2024 Model', 'Apple', '127.0.0.1', b'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxOGI0Yzc2OC00YWU4LTQ5OTMtYmI1OC03ODczOTFiNTMzMzkiLCJpYXQiOjE3MzU2MTYyNjIsImV4cCI6MTczNjIyMTA2MiwidHlwZSI6ImFjY2VzcyJ9.7uyUQD5c620sOJG5WdO8N4oaoXV-ojEFUnzVDDkVDOc', '2025-01-07 03:37:42.620327', '2024-12-31 03:37:42.620329', 1, 'aa3a9ecf-9fec-401c-95d8-53acf4b5a6ef', '2024-12-31 03:37:42.620832', '2024-12-31 03:37:42.620833')
2024-12-30 22:37:42.622 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-30 22:37:42.623 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-30 22:37:42.623 [INFO] sqlalchemy.engine.Engine - SELECT user_settings.user_id AS user_settings_user_id, user_settings.is_two_factor_enabled AS user_settings_is_two_factor_enabled, user_settings.security_question_set AS user_settings_security_question_set, user_settings.email_notifications_enabled AS user_settings_email_notifications_enabled, user_settings.account_locked AS user_settings_account_locked, user_settings.last_password_reset_at AS user_settings_last_password_reset_at, user_settings.id AS user_settings_id, user_settings.created_at AS user_settings_created_at, user_settings.updated_at AS user_settings_updated_at 
FROM user_settings 
WHERE ? = user_settings.user_id
2024-12-30 22:37:42.623 [INFO] sqlalchemy.engine.Engine - [cached since 4024s ago] ('18b4c768-4ae8-4993-bb58-787391b53339',)
2024-12-30 22:47:24.497 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-30 22:47:24.498 [INFO] sqlalchemy.engine.Engine - SELECT user.username AS user_username, user.password_hash AS user_password_hash, user.nickname AS user_nickname, user.email AS user_email, user.avatar_path AS user_avatar_path, user.account_status AS user_account_status, user.last_login_at AS user_last_login_at, user.id AS user_id, user.created_at AS user_created_at, user.updated_at AS user_updated_at 
FROM user 
WHERE user.username = ?
 LIMIT ? OFFSET ?
2024-12-30 22:47:24.498 [INFO] sqlalchemy.engine.Engine - [cached since 4606s ago] ('test09', 1, 0)
2024-12-30 22:47:24.499 [INFO] app.services.auth_service - Creating user object with username=test09, email=test09@test.com,password=royzhu1225
2024-12-30 22:47:24.675 [INFO] sqlalchemy.engine.Engine - INSERT INTO user (username, password_hash, nickname, email, avatar_path, account_status, last_login_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-30 22:47:24.675 [INFO] sqlalchemy.engine.Engine - [cached since 4606s ago] ('test09', '$5$rounds=535000$EN.FVBYjaN/VMQpt$Q461SEip9P.MIIHMGvWZZo5cuh7FtwIIhr46oX5xBqC', None, 'test09@test.com', None, 'ACTIVE', None, '8c42401c-93ca-4a3c-9f03-8d67e8766c3a', '2024-12-31 03:47:24.674944', '2024-12-31 03:47:24.674947')
2024-12-30 22:47:24.676 [INFO] app.services.auth_service - start create user settings
2024-12-30 22:47:24.677 [INFO] app.services.auth_service - end create user session
2024-12-30 22:47:24.677 [INFO] sqlalchemy.engine.Engine - INSERT INTO user_preferences (user_id, language, currency, theme, login_expire_days, require_password_on_launch, notification_enabled, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-30 22:47:24.677 [INFO] sqlalchemy.engine.Engine - [cached since 4606s ago] ('8c42401c-93ca-4a3c-9f03-8d67e8766c3a', 'EN', 'CAD', 'SUNSET', 7, 0, 1, '9bc7bfa7-4e4c-421a-a2da-a01d139f9b8a', '2024-12-31 03:47:24.677361', '2024-12-31 03:47:24.677361')
2024-12-30 22:47:24.677 [INFO] sqlalchemy.engine.Engine - INSERT INTO user_session (user_id, device_id, device_name, device_type, os, model, manufacturer, ip, token, token_expires_at, last_active_at, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-30 22:47:24.677 [INFO] sqlalchemy.engine.Engine - [cached since 4606s ago] ('8c42401c-93ca-4a3c-9f03-8d67e8766c3a', 'dev-device', 'Development Machine', 'Desktop', 'Development OS', '2024 Model', 'Apple', '127.0.0.1', b'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI4YzQyNDAxYy05M2NhLTRhM2MtOWYwMy04ZDY3ZTg3NjZjM2EiLCJpYXQiOjE3MzU2MTY4NDQsImV4cCI6MTczNjIyMTY0NCwidHlwZSI6ImFjY2VzcyJ9.RJ9HHRheHe5e8kpxUuuA5oV-GzQY7LG5l1oqyhqasp8', '2025-01-07 03:47:24.677092', '2024-12-31 03:47:24.677099', 1, 'a324b169-4c02-46ee-946f-3ba746185329', '2024-12-31 03:47:24.677663', '2024-12-31 03:47:24.677664')
2024-12-30 22:47:24.678 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-30 22:47:24.679 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-30 22:47:24.679 [INFO] sqlalchemy.engine.Engine - SELECT user_settings.user_id AS user_settings_user_id, user_settings.is_two_factor_enabled AS user_settings_is_two_factor_enabled, user_settings.security_question_set AS user_settings_security_question_set, user_settings.email_notifications_enabled AS user_settings_email_notifications_enabled, user_settings.account_locked AS user_settings_account_locked, user_settings.last_password_reset_at AS user_settings_last_password_reset_at, user_settings.id AS user_settings_id, user_settings.created_at AS user_settings_created_at, user_settings.updated_at AS user_settings_updated_at 
FROM user_settings 
WHERE ? = user_settings.user_id
2024-12-30 22:47:24.679 [INFO] sqlalchemy.engine.Engine - [cached since 4606s ago] ('8c42401c-93ca-4a3c-9f03-8d67e8766c3a',)
2024-12-30 22:53:16.648 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-30 22:53:16.650 [INFO] sqlalchemy.engine.Engine - SELECT user.username AS user_username, user.password_hash AS user_password_hash, user.nickname AS user_nickname, user.email AS user_email, user.avatar_path AS user_avatar_path, user.account_status AS user_account_status, user.last_login_at AS user_last_login_at, user.id AS user_id, user.created_at AS user_created_at, user.updated_at AS user_updated_at 
FROM user 
WHERE user.username = ?
 LIMIT ? OFFSET ?
2024-12-30 22:53:16.650 [INFO] sqlalchemy.engine.Engine - [cached since 4958s ago] ('test10', 1, 0)
2024-12-30 22:53:16.651 [INFO] app.services.auth_service - Creating user object with username=test10, email=test10@test.com,password=royzhu1225
2024-12-30 22:53:16.829 [INFO] sqlalchemy.engine.Engine - INSERT INTO user (username, password_hash, nickname, email, avatar_path, account_status, last_login_at, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-30 22:53:16.829 [INFO] sqlalchemy.engine.Engine - [cached since 4958s ago] ('test10', '$5$rounds=535000$hK2olWSzLlhz2mlS$zdySXOLEBO/v1cmXx4bKbDZ72GQKMXNzS73.x3KHQw.', None, 'test10@test.com', None, 'ACTIVE', None, 'e4576554-f5c1-4a1d-8d0c-394715739943', '2024-12-31 03:53:16.828999', '2024-12-31 03:53:16.829002')
2024-12-30 22:53:16.830 [INFO] app.services.auth_service - start create user settings
2024-12-30 22:53:16.830 [INFO] app.services.auth_service - end create user session
2024-12-30 22:53:16.831 [INFO] sqlalchemy.engine.Engine - INSERT INTO user_preferences (user_id, language, currency, theme, login_expire_days, require_password_on_launch, notification_enabled, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-30 22:53:16.831 [INFO] sqlalchemy.engine.Engine - [cached since 4958s ago] ('e4576554-f5c1-4a1d-8d0c-394715739943', 'EN', 'CAD', 'SUNSET', 7, 0, 1, '45f69d94-fbab-4f54-8b0d-424c5feebc7f', '2024-12-31 03:53:16.831198', '2024-12-31 03:53:16.831198')
2024-12-30 22:53:16.831 [INFO] sqlalchemy.engine.Engine - INSERT INTO user_session (user_id, device_id, device_name, device_type, os, model, manufacturer, ip, token, token_expires_at, last_active_at, is_active, id, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-30 22:53:16.831 [INFO] sqlalchemy.engine.Engine - [cached since 4958s ago] ('e4576554-f5c1-4a1d-8d0c-394715739943', 'dev-device', 'Development Machine', 'Desktop', 'Development OS', '2024 Model', 'Apple', '127.0.0.1', b'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJlNDU3NjU1NC1mNWMxLTRhMWQtOGQwYy0zOTQ3MTU3Mzk5NDMiLCJpYXQiOjE3MzU2MTcxOTYsImV4cCI6MTczNjIyMTk5NiwidHlwZSI6ImFjY2VzcyJ9.btaSOn0hxn2Ubh4M1XZfyEHx1Ud9VJ9Bb6xObcum64E', '2025-01-07 03:53:16.830948', '2024-12-31 03:53:16.830954', 1, '432cd1b8-0e74-4d01-8247-7878f573421d', '2024-12-31 03:53:16.831485', '2024-12-31 03:53:16.831485')
2024-12-30 22:53:16.832 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-30 22:53:16.832 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-30 22:53:16.832 [INFO] sqlalchemy.engine.Engine - SELECT user_settings.user_id AS user_settings_user_id, user_settings.is_two_factor_enabled AS user_settings_is_two_factor_enabled, user_settings.security_question_set AS user_settings_security_question_set, user_settings.email_notifications_enabled AS user_settings_email_notifications_enabled, user_settings.account_locked AS user_settings_account_locked, user_settings.last_password_reset_at AS user_settings_last_password_reset_at, user_settings.id AS user_settings_id, user_settings.created_at AS user_settings_created_at, user_settings.updated_at AS user_settings_updated_at 
FROM user_settings 
WHERE ? = user_settings.user_id
2024-12-30 22:53:16.833 [INFO] sqlalchemy.engine.Engine - [cached since 4958s ago] ('e4576554-f5c1-4a1d-8d0c-394715739943',)
2024-12-30 23:58:46.922 [INFO] __main__ - 接收到终止信号，正在清理资源...
2024-12-30 23:58:46.922 [ERROR] __main__ - 关闭数据库连接时发生错误: 'State' object has no attribute 'engine'
2024-12-30 23:58:49.814 [INFO] __main__ - Logger initialized in development mode
2024-12-30 23:58:49.814 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-30 23:58:49.814 [INFO] __main__ - Starting application initialization...
2024-12-30 23:58:49.814 [INFO] app.core.runtime_config - Loaded runtime config from /Users/royzhu/Library/Application Support/electron/runtime-config.json
2024-12-30 23:58:49.814 [INFO] __main__ - Runtime configuration initialized successfully
2024-12-30 23:58:49.814 [INFO] __main__ - Logger initialized in development mode
2024-12-30 23:58:49.814 [INFO] __main__ - Log file location: /Users/royzhu/software/codes/BeaverDen/backend/logs/beaveden_development.log
2024-12-30 23:58:49.818 [INFO] __main__ - Electron: Starting backend server on port 8486...
2024-12-30 23:58:49.819 [DEBUG] asyncio - Using selector: KqueueSelector
2024-12-30 23:58:49.827 [INFO] app.db.session - Database directory: /Users/royzhu/Library/Application Support/electron
2024-12-30 23:58:49.827 [INFO] app.db.migrations - Looking for alembic.ini at: /Users/royzhu/software/codes/BeaverDen/backend/alembic.ini
2024-12-30 23:58:49.828 [INFO] app.db.migrations - Starting database migration check...
2024-12-30 23:58:49.829 [INFO] alembic.runtime.migration - Context impl SQLiteImpl.
2024-12-30 23:58:49.829 [INFO] alembic.runtime.migration - Will assume non-transactional DDL.
2024-12-30 23:58:49.829 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-30 23:58:49.829 [INFO] sqlalchemy.engine.Engine - PRAGMA main.table_info("alembic_version")
2024-12-30 23:58:49.829 [INFO] sqlalchemy.engine.Engine - [raw sql] ()
2024-12-30 23:58:49.830 [INFO] sqlalchemy.engine.Engine - SELECT alembic_version.version_num 
FROM alembic_version
2024-12-30 23:58:49.831 [INFO] sqlalchemy.engine.Engine - [generated in 0.00014s] ()
2024-12-30 23:58:49.831 [INFO] sqlalchemy.engine.Engine - ROLLBACK
2024-12-30 23:58:49.831 [INFO] app.db.migrations - Current database revision: 05f202836a5b
2024-12-30 23:58:49.831 [INFO] app.db.migrations - Target head revision: 05f202836a5b
2024-12-30 23:58:49.831 [INFO] app.db.migrations - Database is already at the latest revision - no upgrade needed
2024-12-30 23:58:49.831 [INFO] app.db.migrations - Database check completed successfully
2024-12-30 23:58:49.866 [INFO] sqlalchemy.engine.Engine - BEGIN (implicit)
2024-12-30 23:58:49.867 [INFO] sqlalchemy.engine.Engine - SELECT 1
2024-12-30 23:58:49.867 [INFO] sqlalchemy.engine.Engine - [generated in 0.00012s] ()
2024-12-30 23:58:49.867 [INFO] app.db.session - db_connected: True
2024-12-30 23:58:49.867 [INFO] sqlalchemy.engine.Engine - SELECT name FROM sqlite_master WHERE type='table' AND name='user'
2024-12-30 23:58:49.867 [INFO] sqlalchemy.engine.Engine - [generated in 0.00008s] ()
2024-12-30 23:58:49.867 [INFO] app.db.session - db_initialized: True
2024-12-30 23:58:49.867 [INFO] sqlalchemy.engine.Engine - SELECT version_num FROM alembic_version
2024-12-30 23:58:49.867 [INFO] sqlalchemy.engine.Engine - [generated in 0.00006s] ()
2024-12-30 23:58:49.868 [INFO] app.db.session - Database version: 05f202836a5b
2024-12-30 23:58:49.868 [INFO] sqlalchemy.engine.Engine - COMMIT
2024-12-31 00:24:49.194 [INFO] __main__ - 接收到终止信号，正在清理资源...
2024-12-31 00:24:49.195 [ERROR] __main__ - 关闭数据库连接时发生错误: 'State' object has no attribute 'engine'
